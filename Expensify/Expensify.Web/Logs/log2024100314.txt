2024-10-03 14:04:47.062 +03:00 [INF] User profile is available. Using 'C:\Users\fatih.celik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 14:04:47.334 +03:00 [INF] Now listening on: https://localhost:7189
2024-10-03 14:04:47.337 +03:00 [INF] Now listening on: http://localhost:5289
2024-10-03 14:04:47.366 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 14:04:47.369 +03:00 [INF] Hosting environment: Development
2024-10-03 14:04:47.371 +03:00 [INF] Content root path: C:\Users\fatih.celik\OneDrive - VERIPARK\Desktop\Expensify\Expensify\Expensify.Web
2024-10-03 14:04:48.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:04:49.939 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Expense'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-10-03 14:04:50.658 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:04:50.822 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 14:04:50.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 14:04:50.882 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 14:04:50.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 14:04:50.913 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:04:50.926 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:04:50.996 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:04:51.004 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.1441ms.
2024-10-03 14:04:51.015 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:04:51.178 +03:00 [INF] Executed ViewResult - view Index executed in 149.2019ms.
2024-10-03 14:04:51.190 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:04:51.193 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:04:51.204 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 273.7129ms
2024-10-03 14:04:51.215 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:04:51.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 34.8189ms
2024-10-03 14:04:51.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 2929.8447ms
2024-10-03 14:04:51.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.07ms
2024-10-03 14:04:53.023 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 14:04:53.073 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:04:53.102 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:04:53.181 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:04:53.195 +03:00 [INF] User logged out.
2024-10-03 14:04:53.216 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 14:04:53.232 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 14:04:53.238 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 14:04:53.241 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 51.1221ms.
2024-10-03 14:04:53.247 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:04:53.251 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 145.4155ms
2024-10-03 14:04:53.254 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:04:53.257 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 233.5552ms
2024-10-03 14:04:53.261 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:04:53.283 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:04:53.287 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:04:53.304 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:04:53.306 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0482ms.
2024-10-03 14:04:53.308 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:04:53.330 +03:00 [INF] Executed ViewResult - view Index executed in 21.3809ms.
2024-10-03 14:04:53.335 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 44.6655ms
2024-10-03 14:04:53.343 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:04:53.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:04:53.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:04:53.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 90.0997ms
2024-10-03 14:04:53.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 81.5665ms
2024-10-03 14:04:53.492 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 148.328ms
2024-10-03 14:05:02.535 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 14:05:02.589 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:05:02.599 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:05:02.628 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:05:02.632 +03:00 [INF] Login page accessed.
2024-10-03 14:05:02.636 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 4.3759ms.
2024-10-03 14:05:02.641 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 14:05:02.717 +03:00 [INF] Executed ViewResult - view Login executed in 77.7367ms.
2024-10-03 14:05:02.733 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 127.7048ms
2024-10-03 14:05:02.746 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:05:02.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:05:02.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:05:02.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 221.7089ms
2024-10-03 14:05:02.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 36.0142ms
2024-10-03 14:05:02.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.2603ms
2024-10-03 14:05:10.560 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 254
2024-10-03 14:05:10.645 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:05:10.664 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:05:10.714 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:05:10.718 +03:00 [INF] Login attempt for user asdas@dsffsd.com.
2024-10-03 14:05:10.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 14:05:10.848 +03:00 [WRN] Invalid login attempt for user asdas@dsffsd.com.
2024-10-03 14:05:10.857 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 140.1177ms.
2024-10-03 14:05:10.866 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 14:05:10.877 +03:00 [INF] Executed ViewResult - view Login executed in 11.5126ms.
2024-10-03 14:05:10.881 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 214.3345ms
2024-10-03 14:05:10.890 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:05:10.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:05:10.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:05:10.900 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 341.6651ms
2024-10-03 14:05:10.957 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 65.2296ms
2024-10-03 14:05:11.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.7634ms
2024-10-03 14:05:24.367 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 255
2024-10-03 14:05:24.482 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:05:24.492 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:05:24.534 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:05:24.537 +03:00 [INF] Login attempt for user employee1@expensify.com.
2024-10-03 14:05:24.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 14:05:24.651 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 14:05:24.657 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 14:05:24.660 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 14:05:24.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 14:05:24.671 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 14:05:24.675 +03:00 [INF] User employee1@expensify.com successfully logged in.
2024-10-03 14:05:24.677 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 140.4068ms.
2024-10-03 14:05:24.681 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:05:24.686 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 178.6741ms
2024-10-03 14:05:24.689 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:05:24.691 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 324.8097ms
2024-10-03 14:05:24.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:05:24.718 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:05:24.720 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:05:24.734 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:05:24.736 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.027ms.
2024-10-03 14:05:24.738 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:05:24.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:05:24.756 +03:00 [INF] Executed ViewResult - view Index executed in 17.9913ms.
2024-10-03 14:05:24.758 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 35.737ms
2024-10-03 14:05:24.766 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:05:24.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:05:24.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:05:24.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 75.1083ms
2024-10-03 14:05:24.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 20.0703ms
2024-10-03 14:05:24.807 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7099ms
2024-10-03 14:05:34.308 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 14:05:34.423 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:05:34.450 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:05:34.489 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:05:34.494 +03:00 [INF] Entering Add expense form view
2024-10-03 14:05:34.499 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:05:34.503 +03:00 [INF] Creating new expense form for employee with ID: 23f1b176-d123-4d55-95be-b7d353c77de9
2024-10-03 14:05:34.508 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.241ms.
2024-10-03 14:05:34.513 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 14:05:34.553 +03:00 [INF] Executed ViewResult - view Add executed in 41.2578ms.
2024-10-03 14:05:34.564 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 102.5799ms
2024-10-03 14:05:34.574 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:05:34.583 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:05:34.583 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:05:34.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 278.1609ms
2024-10-03 14:05:34.600 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 16.9254ms
2024-10-03 14:05:34.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 149.6613ms
2024-10-03 14:06:05.581 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Add - application/x-www-form-urlencoded 332
2024-10-03 14:06:05.700 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:06:05.720 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Expensify.Web.Models.ViewModels.AddExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:06:05.777 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:06:05.797 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:06:05.812 +03:00 [INF] Saving new expense form for employee 23f1b176-d123-4d55-95be-b7d353c77de9.
2024-10-03 14:06:06.276 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 450), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = DateTime2), @p18='?' (Size = 255), @p19='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseForms] ([Id], [AccountantId], [Currency], [EmployeeId], [IsApprovedByManager], [IsPaidByAccountant], [IsRejectedByManager], [ManagerId], [RejectionReason], [SubmissionDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p10, @p11, @p12, @p13, @p14);
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p15, @p16, @p17, @p18, @p19);
2024-10-03 14:06:06.320 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 532.6026ms.
2024-10-03 14:06:06.325 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:06:06.329 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 605.411ms
2024-10-03 14:06:06.331 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:06:06.334 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Add - 302 0 null 755.3069ms
2024-10-03 14:06:06.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:06:06.360 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:06:06.363 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:06:06.380 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:06:06.383 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0404ms.
2024-10-03 14:06:06.385 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:06:06.390 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:06:06.398 +03:00 [INF] Executed ViewResult - view Index executed in 13.2549ms.
2024-10-03 14:06:06.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:06:06.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:06:06.420 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 53.7401ms
2024-10-03 14:06:06.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.9214ms
2024-10-03 14:06:06.455 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:06:06.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 138.2989ms
2024-10-03 14:06:06.485 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.4113ms
2024-10-03 14:06:09.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:06:09.695 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:06:09.715 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:06:09.735 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:06:09.740 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:06:09.744 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:06:09.748 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:06:09.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:06:09.907 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:06:09.919 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:06:09.934 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 195.3867ms.
2024-10-03 14:06:09.950 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:06:10.037 +03:00 [INF] Executed ViewResult - view List executed in 90.1842ms.
2024-10-03 14:06:10.046 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 325.8705ms
2024-10-03 14:06:10.054 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:06:10.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:06:10.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:06:10.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 403.4228ms
2024-10-03 14:06:10.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 24.1973ms
2024-10-03 14:06:10.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 132.1263ms
2024-10-03 14:06:20.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - null null
2024-10-03 14:06:20.637 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:06:20.659 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:06:20.692 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:06:20.700 +03:00 [INF] Fetching expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085 for editing.
2024-10-03 14:06:20.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:06:20.748 +03:00 [INF] Returning view for editing expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085.
2024-10-03 14:06:20.750 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 51.4721ms.
2024-10-03 14:06:20.754 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:06:20.789 +03:00 [INF] Executed ViewResult - view Edit executed in 35.9012ms.
2024-10-03 14:06:20.793 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 117.8456ms
2024-10-03 14:06:20.802 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:06:20.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - 200 null text/html; charset=utf-8 281.9236ms
2024-10-03 14:06:20.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:06:20.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:06:20.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 41.1752ms
2024-10-03 14:06:20.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.8675ms
2024-10-03 14:06:30.021 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 14:06:30.108 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:06:30.120 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:06:30.176 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:06:30.179 +03:00 [INF] Entering Add expense form view
2024-10-03 14:06:30.186 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:06:30.190 +03:00 [INF] Creating new expense form for employee with ID: 23f1b176-d123-4d55-95be-b7d353c77de9
2024-10-03 14:06:30.195 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.2852ms.
2024-10-03 14:06:30.203 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 14:06:30.221 +03:00 [INF] Executed ViewResult - view Add executed in 17.6658ms.
2024-10-03 14:06:30.230 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 94.0946ms
2024-10-03 14:06:30.239 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:06:30.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:06:30.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:06:30.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 221.3162ms
2024-10-03 14:06:30.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.5761ms
2024-10-03 14:06:30.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1825ms
2024-10-03 14:07:05.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 14:07:05.563 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:07:05.569 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:05.591 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:07:05.593 +03:00 [INF] Entering Add expense form view
2024-10-03 14:07:05.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:07:05.600 +03:00 [INF] Creating new expense form for employee with ID: 23f1b176-d123-4d55-95be-b7d353c77de9
2024-10-03 14:07:05.603 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 10.1255ms.
2024-10-03 14:07:05.607 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 14:07:05.613 +03:00 [INF] Executed ViewResult - view Add executed in 5.4572ms.
2024-10-03 14:07:05.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:05.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:05.630 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 56.9438ms
2024-10-03 14:07:05.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 16.3927ms
2024-10-03 14:07:05.703 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:07:05.750 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.8579ms
2024-10-03 14:07:05.753 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 340.0527ms
2024-10-03 14:07:50.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 14:07:50.560 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:07:50.564 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:50.586 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:07:50.590 +03:00 [INF] Entering Add expense form view
2024-10-03 14:07:50.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:07:50.599 +03:00 [INF] Creating new expense form for employee with ID: 23f1b176-d123-4d55-95be-b7d353c77de9
2024-10-03 14:07:50.601 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 11.7223ms.
2024-10-03 14:07:50.608 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 14:07:50.613 +03:00 [INF] Executed ViewResult - view Add executed in 4.8245ms.
2024-10-03 14:07:50.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:50.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:50.631 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 61.2788ms
2024-10-03 14:07:50.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 45.4941ms
2024-10-03 14:07:50.690 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:07:50.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.5714ms
2024-10-03 14:07:50.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 224.8476ms
2024-10-03 14:07:53.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:07:53.035 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:07:53.041 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:53.059 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:07:53.066 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:07:53.083 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:07:53.100 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:07:53.114 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:07:53.166 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:07:53.172 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:07:53.175 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 109.4511ms.
2024-10-03 14:07:53.181 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:07:53.189 +03:00 [INF] Executed ViewResult - view List executed in 8.2072ms.
2024-10-03 14:07:53.197 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 151.9482ms
2024-10-03 14:07:53.206 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:07:53.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:53.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:53.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 213.4861ms
2024-10-03 14:07:53.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.1863ms
2024-10-03 14:07:53.232 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.7872ms
2024-10-03 14:07:55.134 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - null null
2024-10-03 14:07:55.258 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:07:55.274 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:55.306 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:07:55.310 +03:00 [INF] Fetching expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085 for editing.
2024-10-03 14:07:55.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:07:55.322 +03:00 [INF] Returning view for editing expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085.
2024-10-03 14:07:55.324 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 14.0654ms.
2024-10-03 14:07:55.326 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:07:55.334 +03:00 [INF] Executed ViewResult - view Edit executed in 7.6332ms.
2024-10-03 14:07:55.340 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 59.1244ms
2024-10-03 14:07:55.349 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:07:55.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:55.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:55.360 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - 200 null text/html; charset=utf-8 226.4865ms
2024-10-03 14:07:55.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 19.8968ms
2024-10-03 14:07:55.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.3454ms
2024-10-03 14:07:56.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 14:07:57.064 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:07:57.073 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:57.096 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:07:57.098 +03:00 [INF] Entering Add expense form view
2024-10-03 14:07:57.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:07:57.109 +03:00 [INF] Creating new expense form for employee with ID: 23f1b176-d123-4d55-95be-b7d353c77de9
2024-10-03 14:07:57.111 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 12.1041ms.
2024-10-03 14:07:57.113 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 14:07:57.118 +03:00 [INF] Executed ViewResult - view Add executed in 4.7844ms.
2024-10-03 14:07:57.123 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 43.364ms
2024-10-03 14:07:57.131 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:07:57.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:57.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:57.142 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 163.1393ms
2024-10-03 14:07:57.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 37.4316ms
2024-10-03 14:07:57.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.2779ms
2024-10-03 14:07:57.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:07:57.541 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:07:57.543 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:57.555 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:07:57.557 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:07:57.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:07:57.566 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:07:57.571 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:07:57.576 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:07:57.578 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:07:57.580 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 22.5122ms.
2024-10-03 14:07:57.583 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:07:57.597 +03:00 [INF] Executed ViewResult - view List executed in 14.7919ms.
2024-10-03 14:07:57.609 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 63.285ms
2024-10-03 14:07:57.624 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:07:57.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:57.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:57.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 112.0794ms
2024-10-03 14:07:57.657 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 33.3119ms
2024-10-03 14:07:57.703 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.3696ms
2024-10-03 14:07:58.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/5ed3f6fd-51ba-4d91-ef53-08dce2d4adce - null null
2024-10-03 14:07:58.911 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:07:58.915 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:07:58.949 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:07:58.959 +03:00 [INF] Fetching expense form with ID 5ed3f6fd-51ba-4d91-ef53-08dce2d4adce for editing.
2024-10-03 14:07:58.974 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:07:59.001 +03:00 [INF] Returning view for editing expense form with ID 5ed3f6fd-51ba-4d91-ef53-08dce2d4adce.
2024-10-03 14:07:59.008 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 49.0182ms.
2024-10-03 14:07:59.012 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:07:59.028 +03:00 [INF] Executed ViewResult - view Edit executed in 15.4507ms.
2024-10-03 14:07:59.043 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 120.9129ms
2024-10-03 14:07:59.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:07:59.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:07:59.050 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:07:59.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.2002ms
2024-10-03 14:07:59.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/5ed3f6fd-51ba-4d91-ef53-08dce2d4adce - 200 null text/html; charset=utf-8 193.8435ms
2024-10-03 14:07:59.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.268ms
2024-10-03 14:08:00.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:08:00.128 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:08:00.141 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:00.167 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:08:00.169 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:08:00.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:08:00.178 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:08:00.181 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:08:00.192 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:08:00.194 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:08:00.196 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 26.9243ms.
2024-10-03 14:08:00.199 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:08:00.202 +03:00 [INF] Executed ViewResult - view List executed in 3.9365ms.
2024-10-03 14:08:00.206 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 51.4646ms
2024-10-03 14:08:00.212 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:08:00.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:08:00.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:08:00.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 155.8454ms
2024-10-03 14:08:00.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.508ms
2024-10-03 14:08:00.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.407ms
2024-10-03 14:08:01.322 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - null null
2024-10-03 14:08:01.360 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:08:01.363 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:01.381 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:08:01.389 +03:00 [INF] Fetching expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058 for editing.
2024-10-03 14:08:01.404 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:08:01.412 +03:00 [INF] Returning view for editing expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058.
2024-10-03 14:08:01.417 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 27.487ms.
2024-10-03 14:08:01.422 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:08:01.430 +03:00 [INF] Executed ViewResult - view Edit executed in 7.848ms.
2024-10-03 14:08:01.435 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 66.4145ms
2024-10-03 14:08:01.440 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:08:01.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:08:01.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:08:01.446 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - 200 null text/html; charset=utf-8 124.1131ms
2024-10-03 14:08:01.471 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 25.8869ms
2024-10-03 14:08:01.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.1915ms
2024-10-03 14:08:07.523 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - application/x-www-form-urlencoded 502
2024-10-03 14:08:07.629 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:08:07.637 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:07.654 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:08:07.660 +03:00 [INF] Editing expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058.
2024-10-03 14:08:07.665 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:08:07.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:08:07.680 +03:00 [INF] Updating the currency and expenses for expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058.
2024-10-03 14:08:07.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Expenses]
OUTPUT 1
WHERE [Id] = @p0;
2024-10-03 14:08:07.730 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 14:08:07.741 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-10-03 14:08:07.746 +03:00 [INF] Expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058 updated successfully.
2024-10-03 14:08:07.749 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 92.2304ms.
2024-10-03 14:08:07.752 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 14:08:07.756 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 116.4131ms
2024-10-03 14:08:07.760 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:08:07.765 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - 302 0 null 242.7904ms
2024-10-03 14:08:07.775 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:08:07.805 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:08:07.808 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:07.839 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:08:07.844 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:08:07.853 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:08:07.859 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:08:07.863 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:08:07.869 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:08:07.871 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:08:07.872 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 28.3749ms.
2024-10-03 14:08:07.875 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:08:07.879 +03:00 [INF] Executed ViewResult - view List executed in 4.4029ms.
2024-10-03 14:08:07.883 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 72.777ms
2024-10-03 14:08:07.890 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:08:07.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:08:07.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 122.3999ms
2024-10-03 14:08:07.898 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:08:07.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.5258ms
2024-10-03 14:08:07.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.6602ms
2024-10-03 14:08:09.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - null null
2024-10-03 14:08:09.242 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:08:09.245 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:09.270 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:08:09.273 +03:00 [INF] Fetching expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058 for editing.
2024-10-03 14:08:09.283 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:08:09.291 +03:00 [INF] Returning view for editing expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058.
2024-10-03 14:08:09.293 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 19.9874ms.
2024-10-03 14:08:09.296 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:08:09.307 +03:00 [INF] Executed ViewResult - view Edit executed in 10.759ms.
2024-10-03 14:08:09.309 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 59.8196ms
2024-10-03 14:08:09.312 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:08:09.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:08:09.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:08:09.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - 200 null text/html; charset=utf-8 100.0067ms
2024-10-03 14:08:09.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 23.0579ms
2024-10-03 14:08:09.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.8418ms
2024-10-03 14:08:18.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:08:18.925 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:08:18.937 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:18.965 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:08:18.969 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:08:18.973 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:08:18.981 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:08:18.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:08:18.991 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:08:18.994 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:08:18.997 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 28.5548ms.
2024-10-03 14:08:19.002 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:08:19.010 +03:00 [INF] Executed ViewResult - view List executed in 8.5555ms.
2024-10-03 14:08:19.016 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 66.0154ms
2024-10-03 14:08:19.029 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:08:19.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:08:19.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:08:19.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 161.6469ms
2024-10-03 14:08:19.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 22.5446ms
2024-10-03 14:08:19.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.2635ms
2024-10-03 14:08:38.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 14:08:38.590 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:08:38.601 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:08:38.655 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:08:38.660 +03:00 [INF] Entering Add expense form view
2024-10-03 14:08:38.663 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:08:38.671 +03:00 [INF] Creating new expense form for employee with ID: 23f1b176-d123-4d55-95be-b7d353c77de9
2024-10-03 14:08:38.675 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.1131ms.
2024-10-03 14:08:38.679 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 14:08:38.690 +03:00 [INF] Executed ViewResult - view Add executed in 10.8657ms.
2024-10-03 14:08:38.702 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 86.9562ms
2024-10-03 14:08:38.715 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 14:08:38.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:08:38.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:08:38.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 233.747ms
2024-10-03 14:08:38.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.1558ms
2024-10-03 14:08:38.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.727ms
2024-10-03 14:09:20.752 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:09:20.874 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:20.893 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:20.922 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:20.925 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:20.928 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:20.932 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:20.936 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:20.941 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:20.944 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:20.951 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 25.7506ms.
2024-10-03 14:09:20.959 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:20.970 +03:00 [INF] Executed ViewResult - view List executed in 10.3489ms.
2024-10-03 14:09:20.990 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:20.992 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:21.009 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 103.8111ms
2024-10-03 14:09:21.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 37.9521ms
2024-10-03 14:09:21.048 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:21.094 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 342.3224ms
2024-10-03 14:09:21.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.5881ms
2024-10-03 14:09:28.155 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=USD&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:28.220 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:28.228 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:28.289 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:28.294 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:28.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:28.304 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:28.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:28.316 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:28.319 +03:00 [INF] Filtered by Currency: USD
2024-10-03 14:09:28.321 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:28.322 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 28.0714ms.
2024-10-03 14:09:28.325 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:28.329 +03:00 [INF] Executed ViewResult - view List executed in 3.824ms.
2024-10-03 14:09:28.331 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 91.7632ms
2024-10-03 14:09:28.334 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:28.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=USD&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 182.8421ms
2024-10-03 14:09:28.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:28.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:28.350 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.0781ms
2024-10-03 14:09:28.365 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7557ms
2024-10-03 14:09:31.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:31.840 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:31.851 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:31.883 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:31.886 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:31.889 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:31.892 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:31.897 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:31.902 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:31.904 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:31.907 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 21.3011ms.
2024-10-03 14:09:31.910 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:31.915 +03:00 [INF] Executed ViewResult - view List executed in 5.4256ms.
2024-10-03 14:09:31.920 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 52.5787ms
2024-10-03 14:09:31.928 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:31.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:31.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:31.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 167.0141ms
2024-10-03 14:09:31.948 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.0861ms
2024-10-03 14:09:32.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.9881ms
2024-10-03 14:09:35.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=500&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:35.844 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:35.856 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:35.929 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:35.934 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:35.938 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:35.942 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:35.949 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:35.955 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:35.962 +03:00 [INF] Filtered by MinAmount: 500
2024-10-03 14:09:35.967 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:35.969 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 35.3298ms.
2024-10-03 14:09:35.972 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:35.982 +03:00 [INF] Executed ViewResult - view List executed in 9.4667ms.
2024-10-03 14:09:35.991 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 119.4794ms
2024-10-03 14:09:36.004 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:36.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:36.008 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:36.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=500&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 207.6005ms
2024-10-03 14:09:36.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 23.8165ms
2024-10-03 14:09:36.078 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.1173ms
2024-10-03 14:09:38.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:38.739 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:38.743 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:38.768 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:38.770 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:38.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:38.779 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:38.782 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:38.787 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:38.789 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:38.791 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 20.925ms.
2024-10-03 14:09:38.795 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:38.799 +03:00 [INF] Executed ViewResult - view List executed in 4.4582ms.
2024-10-03 14:09:38.801 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 55.1404ms
2024-10-03 14:09:38.804 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:38.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:38.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 154.1022ms
2024-10-03 14:09:38.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:38.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.6822ms
2024-10-03 14:09:38.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.025ms
2024-10-03 14:09:43.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status=Rejected - null null
2024-10-03 14:09:43.731 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:43.738 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:43.819 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:43.823 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:43.835 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:43.842 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:43.847 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:43.859 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:43.861 +03:00 [INF] Applying Status filter: Rejected
2024-10-03 14:09:43.864 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:43.867 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 43.4039ms.
2024-10-03 14:09:43.870 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:43.875 +03:00 [INF] Executed ViewResult - view List executed in 4.6137ms.
2024-10-03 14:09:43.878 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 124.6809ms
2024-10-03 14:09:43.880 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:43.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status=Rejected - 200 null text/html; charset=utf-8 213.3512ms
2024-10-03 14:09:43.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:43.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:43.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.6856ms
2024-10-03 14:09:43.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7978ms
2024-10-03 14:09:46.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:46.353 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:46.362 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:46.384 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:46.408 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:46.422 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:46.451 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:46.469 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:46.486 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:46.490 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:46.495 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 86.0848ms.
2024-10-03 14:09:46.498 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:46.504 +03:00 [INF] Executed ViewResult - view List executed in 6.0647ms.
2024-10-03 14:09:46.513 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 145.3285ms
2024-10-03 14:09:46.523 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:46.526 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 210.4411ms
2024-10-03 14:09:46.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:46.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:46.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.6206ms
2024-10-03 14:09:46.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.9007ms
2024-10-03 14:09:55.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=2024-09-11&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:55.145 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:55.149 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:55.172 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:55.174 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:55.178 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:55.182 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:55.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:55.191 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:55.194 +03:00 [INF] Filtered by ToDate: 9/11/2024 12:00:00 AM
2024-10-03 14:09:55.197 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:55.199 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 24.8167ms.
2024-10-03 14:09:55.202 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:55.206 +03:00 [INF] Executed ViewResult - view List executed in 4.3997ms.
2024-10-03 14:09:55.209 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 54.6634ms
2024-10-03 14:09:55.211 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:55.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=2024-09-11&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 119.5043ms
2024-10-03 14:09:55.214 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:55.214 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:55.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.2915ms
2024-10-03 14:09:55.235 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.7393ms
2024-10-03 14:09:59.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 14:09:59.762 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:59.765 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:09:59.796 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:09:59.809 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:09:59.824 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:09:59.843 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:09:59.854 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:09:59.876 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:09:59.881 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:09:59.888 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 79.1418ms.
2024-10-03 14:09:59.892 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:09:59.897 +03:00 [INF] Executed ViewResult - view List executed in 4.9878ms.
2024-10-03 14:09:59.904 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 129.4729ms
2024-10-03 14:09:59.908 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:09:59.911 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 179.1372ms
2024-10-03 14:09:59.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:09:59.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:09:59.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.0232ms
2024-10-03 14:09:59.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5932ms
2024-10-03 14:10:16.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/01b471c3-e419-4da6-16cb-08dcdc691327 - null null
2024-10-03 14:10:16.204 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:16.216 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:16.262 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:10:16.269 +03:00 [INF] Fetching expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327 for editing.
2024-10-03 14:10:16.274 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:10:16.284 +03:00 [INF] Returning view for editing expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327.
2024-10-03 14:10:16.286 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.2833ms.
2024-10-03 14:10:16.292 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:10:16.303 +03:00 [INF] Executed ViewResult - view Edit executed in 11.0645ms.
2024-10-03 14:10:16.307 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 76.7258ms
2024-10-03 14:10:16.334 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:16.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:16.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:16.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/01b471c3-e419-4da6-16cb-08dcdc691327 - 200 null text/html; charset=utf-8 205.4632ms
2024-10-03 14:10:16.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 26.966ms
2024-10-03 14:10:16.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.7675ms
2024-10-03 14:10:20.969 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/01b471c3-e419-4da6-16cb-08dcdc691327 - application/x-www-form-urlencoded 510
2024-10-03 14:10:21.070 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:21.083 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:21.119 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:10:21.122 +03:00 [INF] Editing expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327.
2024-10-03 14:10:21.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:10:21.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:10:21.143 +03:00 [INF] Updating the currency and expenses for expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327.
2024-10-03 14:10:21.145 +03:00 [INF] Resetting rejection status for expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327.
2024-10-03 14:10:21.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 14:10:21.159 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p9='?' (DbType = Guid), @p8='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsRejectedByManager] = @p5, [RejectionReason] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Expenses] SET [Description] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-10-03 14:10:21.165 +03:00 [INF] Expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327 updated successfully.
2024-10-03 14:10:21.167 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 44.6063ms.
2024-10-03 14:10:21.169 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 14:10:21.171 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 66.2228ms
2024-10-03 14:10:21.173 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:21.175 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/01b471c3-e419-4da6-16cb-08dcdc691327 - 302 0 null 206.4151ms
2024-10-03 14:10:21.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:10:21.194 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:10:21.198 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:21.223 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:10:21.232 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:10:21.244 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:10:21.258 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:10:21.269 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:10:21.291 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:10:21.296 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:10:21.302 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 69.7462ms.
2024-10-03 14:10:21.314 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:10:21.327 +03:00 [INF] Executed ViewResult - view List executed in 13.4341ms.
2024-10-03 14:10:21.334 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 130.4426ms
2024-10-03 14:10:21.341 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:10:21.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:21.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 167.5309ms
2024-10-03 14:10:21.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:21.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.1538ms
2024-10-03 14:10:21.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.057ms
2024-10-03 14:10:26.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/43d5acaf-fd22-4bc8-a944-f46cfa3f377e - null null
2024-10-03 14:10:26.737 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:26.741 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:26.763 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:10:26.765 +03:00 [INF] Fetching expense form with ID 43d5acaf-fd22-4bc8-a944-f46cfa3f377e for editing.
2024-10-03 14:10:26.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:10:26.779 +03:00 [INF] Returning view for editing expense form with ID 43d5acaf-fd22-4bc8-a944-f46cfa3f377e.
2024-10-03 14:10:26.784 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.5204ms.
2024-10-03 14:10:26.787 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:10:26.803 +03:00 [INF] Executed ViewResult - view Edit executed in 16.0047ms.
2024-10-03 14:10:26.810 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 63.3939ms
2024-10-03 14:10:26.821 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:26.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/43d5acaf-fd22-4bc8-a944-f46cfa3f377e - 200 null text/html; charset=utf-8 127.2543ms
2024-10-03 14:10:26.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:26.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:26.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 40.1735ms
2024-10-03 14:10:26.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.5242ms
2024-10-03 14:10:40.567 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/43d5acaf-fd22-4bc8-a944-f46cfa3f377e - application/x-www-form-urlencoded 667
2024-10-03 14:10:40.612 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:40.623 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:40.681 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:10:40.691 +03:00 [INF] Editing expense form with ID 43d5acaf-fd22-4bc8-a944-f46cfa3f377e.
2024-10-03 14:10:40.701 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:10:40.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:10:40.724 +03:00 [INF] Updating the currency and expenses for expense form with ID 43d5acaf-fd22-4bc8-a944-f46cfa3f377e.
2024-10-03 14:10:40.726 +03:00 [INF] Resetting rejection status for expense form with ID 43d5acaf-fd22-4bc8-a944-f46cfa3f377e.
2024-10-03 14:10:40.731 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 14:10:40.751 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = DateTime2), @p11='?' (Size = 255), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsRejectedByManager] = @p5, [RejectionReason] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p8, @p9, @p10, @p11, @p12);
2024-10-03 14:10:40.755 +03:00 [INF] Expense form with ID 43d5acaf-fd22-4bc8-a944-f46cfa3f377e updated successfully.
2024-10-03 14:10:40.757 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 66.3982ms.
2024-10-03 14:10:40.763 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 14:10:40.766 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 135.4375ms
2024-10-03 14:10:40.769 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:40.771 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/43d5acaf-fd22-4bc8-a944-f46cfa3f377e - 302 0 null 204.5329ms
2024-10-03 14:10:40.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:10:40.788 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:10:40.790 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:40.801 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:10:40.804 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:10:40.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:10:40.810 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:10:40.813 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:10:40.818 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:10:40.820 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:10:40.822 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.0312ms.
2024-10-03 14:10:40.824 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:10:40.829 +03:00 [INF] Executed ViewResult - view List executed in 4.2859ms.
2024-10-03 14:10:40.831 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 38.4609ms
2024-10-03 14:10:40.836 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:10:40.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:40.845 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 70.9913ms
2024-10-03 14:10:40.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:40.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.1696ms
2024-10-03 14:10:40.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.1606ms
2024-10-03 14:10:43.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - null null
2024-10-03 14:10:43.043 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:43.046 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:43.073 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:10:43.076 +03:00 [INF] Fetching expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058 for editing.
2024-10-03 14:10:43.081 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:10:43.096 +03:00 [INF] Returning view for editing expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058.
2024-10-03 14:10:43.105 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 28.6619ms.
2024-10-03 14:10:43.115 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 14:10:43.140 +03:00 [INF] Executed ViewResult - view Edit executed in 25.1295ms.
2024-10-03 14:10:43.152 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 96.8335ms
2024-10-03 14:10:43.163 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 14:10:43.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:43.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:43.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/397f02e5-bf05-4572-1600-08dcdd375058 - 200 null text/html; charset=utf-8 162.8262ms
2024-10-03 14:10:43.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 20.8859ms
2024-10-03 14:10:43.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.2905ms
2024-10-03 14:10:44.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 14:10:44.666 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:10:44.676 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:10:44.738 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:10:44.744 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 14:10:44.749 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:10:44.754 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 14:10:44.759 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:10:44.768 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:10:44.770 +03:00 [INF] Returning filtered expense forms.
2024-10-03 14:10:44.772 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 28.5783ms.
2024-10-03 14:10:44.775 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 14:10:44.780 +03:00 [INF] Executed ViewResult - view List executed in 4.9567ms.
2024-10-03 14:10:44.784 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 91.3281ms
2024-10-03 14:10:44.786 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 14:10:44.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 193.7515ms
2024-10-03 14:10:44.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:44.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.7923ms
2024-10-03 14:10:50.386 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 14:10:50.453 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:10:50.457 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:10:50.472 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:10:50.476 +03:00 [INF] User logged out.
2024-10-03 14:10:50.482 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 14:10:50.488 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 14:10:50.489 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 14:10:50.492 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 16.9517ms.
2024-10-03 14:10:50.500 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:10:50.507 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 46.8467ms
2024-10-03 14:10:50.515 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:10:50.521 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 135.5357ms
2024-10-03 14:10:50.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:10:50.546 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:10:50.548 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:10:50.558 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:10:50.560 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0162ms.
2024-10-03 14:10:50.562 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:10:50.566 +03:00 [INF] Executed ViewResult - view Index executed in 3.6299ms.
2024-10-03 14:10:50.570 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 19.8761ms
2024-10-03 14:10:50.573 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:10:50.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 52.8737ms
2024-10-03 14:10:50.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:50.581 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:50.600 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 20.0167ms
2024-10-03 14:10:50.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.9442ms
2024-10-03 14:10:51.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 14:10:51.132 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:10:51.139 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:10:51.159 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:10:51.163 +03:00 [INF] Login page accessed.
2024-10-03 14:10:51.164 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.6929ms.
2024-10-03 14:10:51.167 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 14:10:51.176 +03:00 [INF] Executed ViewResult - view Login executed in 8.5301ms.
2024-10-03 14:10:51.185 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 40.221ms
2024-10-03 14:10:51.197 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:10:51.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:10:51.202 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:10:51.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 153.4259ms
2024-10-03 14:10:51.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 36.1022ms
2024-10-03 14:10:51.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.7873ms
2024-10-03 14:11:03.593 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 254
2024-10-03 14:11:03.621 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:11:03.623 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:11:03.642 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:03.650 +03:00 [INF] Login attempt for user manager1@expensify.com.
2024-10-03 14:11:03.657 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 14:11:03.803 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 14:11:03.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 14:11:03.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 14:11:03.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 14:11:03.852 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 14:11:03.862 +03:00 [INF] User manager1@expensify.com successfully logged in.
2024-10-03 14:11:03.869 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 218.722ms.
2024-10-03 14:11:03.876 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:11:03.881 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 253.2639ms
2024-10-03 14:11:03.883 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:11:03.886 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 293.4984ms
2024-10-03 14:11:03.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:11:03.910 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:11:03.912 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:11:03.924 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:03.927 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0166ms.
2024-10-03 14:11:03.931 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:11:03.943 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:03.948 +03:00 [INF] Executed ViewResult - view Index executed in 17.2863ms.
2024-10-03 14:11:03.951 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 36.2223ms
2024-10-03 14:11:03.954 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:11:03.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 63.2888ms
2024-10-03 14:11:03.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:03.962 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:03.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.3682ms
2024-10-03 14:11:03.992 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4304ms
2024-10-03 14:11:07.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:07.824 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:07.847 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:07.891 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:07.896 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:07.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:07.903 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:07.932 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:07.936 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:07.940 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:07.943 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 48.3971ms.
2024-10-03 14:11:07.949 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:07.979 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 31.7689ms.
2024-10-03 14:11:07.988 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 113.8872ms
2024-10-03 14:11:07.999 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:08.008 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 288.7353ms
2024-10-03 14:11:08.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:08.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:08.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 30.3218ms
2024-10-03 14:11:08.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.2661ms
2024-10-03 14:11:13.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - null null
2024-10-03 14:11:13.948 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:13.970 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:14.050 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:14.058 +03:00 [INF] Fetching details for expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:11:14.062 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:14.072 +03:00 [INF] Returning details view for expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:11:14.075 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.942ms.
2024-10-03 14:11:14.080 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:11:14.091 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 12.6438ms.
2024-10-03 14:11:14.096 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 108.0743ms
2024-10-03 14:11:14.102 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:14.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - 200 null text/html; charset=utf-8 216.421ms
2024-10-03 14:11:14.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:14.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:14.154 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 44.4399ms
2024-10-03 14:11:14.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.4763ms
2024-10-03 14:11:15.996 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:16.107 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:16.113 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:16.127 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:16.129 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:16.133 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:16.140 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:16.147 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:16.156 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:16.158 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:16.160 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 30.8526ms.
2024-10-03 14:11:16.162 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:16.170 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 7.3773ms.
2024-10-03 14:11:16.178 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 62.2848ms
2024-10-03 14:11:16.194 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:16.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:16.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 211.4535ms
2024-10-03 14:11:16.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 27.7147ms
2024-10-03 14:11:17.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/397f02e5-bf05-4572-1600-08dcdd375058 - null null
2024-10-03 14:11:17.080 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:17.085 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:17.108 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:17.111 +03:00 [INF] Fetching details for expense form with ID: 397f02e5-bf05-4572-1600-08dcdd375058
2024-10-03 14:11:17.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:17.121 +03:00 [INF] Returning details view for expense form with ID: 397f02e5-bf05-4572-1600-08dcdd375058
2024-10-03 14:11:17.123 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 11.8678ms.
2024-10-03 14:11:17.125 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:11:17.128 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 3.2291ms.
2024-10-03 14:11:17.130 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 37.7195ms
2024-10-03 14:11:17.133 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:17.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:17.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:17.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/397f02e5-bf05-4572-1600-08dcdd375058 - 200 null text/html; charset=utf-8 86.1634ms
2024-10-03 14:11:17.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.5796ms
2024-10-03 14:11:17.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4375ms
2024-10-03 14:11:18.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:18.582 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:18.589 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:18.606 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:18.608 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:18.611 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:18.614 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:18.619 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:18.624 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:18.625 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:18.627 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 19.1419ms.
2024-10-03 14:11:18.629 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:18.633 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.7743ms.
2024-10-03 14:11:18.635 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 40.1506ms
2024-10-03 14:11:18.643 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:18.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:18.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 148.2658ms
2024-10-03 14:11:18.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.4448ms
2024-10-03 14:11:19.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/01b471c3-e419-4da6-16cb-08dcdc691327 - null null
2024-10-03 14:11:19.348 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:19.358 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:19.407 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:19.416 +03:00 [INF] Fetching details for expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:11:19.429 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:19.450 +03:00 [INF] Returning details view for expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:11:19.454 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 38.7639ms.
2024-10-03 14:11:19.460 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:11:19.464 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 4.0677ms.
2024-10-03 14:11:19.467 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 104.1382ms
2024-10-03 14:11:19.469 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:19.473 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/01b471c3-e419-4da6-16cb-08dcdc691327 - 200 null text/html; charset=utf-8 161.9667ms
2024-10-03 14:11:19.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:19.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:19.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.6876ms
2024-10-03 14:11:19.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.0783ms
2024-10-03 14:11:20.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:20.694 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:20.697 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:20.724 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:20.729 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:20.739 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:20.756 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:20.768 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:20.802 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:20.809 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:20.813 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 83.8606ms.
2024-10-03 14:11:20.817 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:20.821 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 4.3956ms.
2024-10-03 14:11:20.824 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 120.4917ms
2024-10-03 14:11:20.831 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:20.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:20.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 163.853ms
2024-10-03 14:11:20.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.2833ms
2024-10-03 14:11:21.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/9546ec67-e5ff-4e21-97e2-62875fe50ac2 - null null
2024-10-03 14:11:21.764 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:21.775 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:21.807 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:21.811 +03:00 [INF] Fetching details for expense form with ID: 9546ec67-e5ff-4e21-97e2-62875fe50ac2
2024-10-03 14:11:21.815 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:21.822 +03:00 [INF] Returning details view for expense form with ID: 9546ec67-e5ff-4e21-97e2-62875fe50ac2
2024-10-03 14:11:21.824 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 13.2011ms.
2024-10-03 14:11:21.827 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:11:21.830 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 3.2809ms.
2024-10-03 14:11:21.833 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 43.8507ms
2024-10-03 14:11:21.837 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:11:21.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/9546ec67-e5ff-4e21-97e2-62875fe50ac2 - 200 null text/html; charset=utf-8 183.9673ms
2024-10-03 14:11:21.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:21.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:21.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.4554ms
2024-10-03 14:11:21.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.1408ms
2024-10-03 14:11:24.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:24.703 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:24.713 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:24.779 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:24.784 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:24.787 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:24.791 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:24.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:24.803 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:24.804 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:24.806 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 22.3756ms.
2024-10-03 14:11:24.809 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:24.813 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.9085ms.
2024-10-03 14:11:24.819 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 83.8181ms
2024-10-03 14:11:24.826 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:24.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:24.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 188.1432ms
2024-10-03 14:11:24.846 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.5991ms
2024-10-03 14:11:34.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=ata&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - null null
2024-10-03 14:11:34.858 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:34.869 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:34.892 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:34.894 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:34.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:34.903 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:34.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:34.912 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:34.914 +03:00 [INF] Filtered by EmployeeName: ata
2024-10-03 14:11:34.915 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:34.917 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 22.567ms.
2024-10-03 14:11:34.920 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:34.923 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.3992ms.
2024-10-03 14:11:34.926 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 47.1062ms
2024-10-03 14:11:34.929 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:34.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=ata&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - 200 null text/html; charset=utf-8 162.744ms
2024-10-03 14:11:34.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:34.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:34.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.9444ms
2024-10-03 14:11:34.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.6505ms
2024-10-03 14:11:37.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - null null
2024-10-03 14:11:37.071 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:37.073 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:37.100 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:37.104 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:37.110 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:37.118 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:37.121 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:37.134 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:37.137 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:37.144 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 40.1031ms.
2024-10-03 14:11:37.156 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:37.172 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 15.7715ms.
2024-10-03 14:11:37.183 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 101.7806ms
2024-10-03 14:11:37.205 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:37.218 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:37.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:37.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - 200 null text/html; charset=utf-8 177.1542ms
2024-10-03 14:11:37.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 24.6174ms
2024-10-03 14:11:37.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.0837ms
2024-10-03 14:11:40.236 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - application/x-www-form-urlencoded 269
2024-10-03 14:11:40.283 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 14:11:40.313 +03:00 [INF] Route matched with {action = "ApproveExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveExpenseForm(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:40.347 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:40.357 +03:00 [INF] Attempting to approve expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:11:40.369 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:40.404 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__formId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__formId_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:40.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsApprovedByManager] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 14:11:40.420 +03:00 [INF] ApproveExpenseForm: Expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085 has been successfully approved by the manager.
2024-10-03 14:11:40.422 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 68.7523ms.
2024-10-03 14:11:40.428 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 14:11:40.430 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) in 105.2186ms
2024-10-03 14:11:40.433 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 14:11:40.434 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - 302 0 null 198.2915ms
2024-10-03 14:11:40.437 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:40.454 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:40.456 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:40.481 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:40.483 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:40.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:40.497 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:40.501 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:40.505 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:40.512 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:40.515 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 31.5118ms.
2024-10-03 14:11:40.518 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:40.521 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.4105ms.
2024-10-03 14:11:40.524 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 59.1958ms
2024-10-03 14:11:40.531 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:40.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:40.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:40.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 101.4342ms
2024-10-03 14:11:40.548 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.6397ms
2024-10-03 14:11:40.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.7519ms
2024-10-03 14:11:53.404 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/RejectExpenseForm - application/x-www-form-urlencoded 289
2024-10-03 14:11:53.428 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web)'
2024-10-03 14:11:53.435 +03:00 [INF] Route matched with {action = "RejectExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RejectExpenseForm(System.Guid, System.String) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:53.477 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:53.482 +03:00 [INF] Attempting to reject expense form with ID: 397f02e5-bf05-4572-1600-08dcdd375058
2024-10-03 14:11:53.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:53.520 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:53.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsRejectedByManager] = @p5, [RejectionReason] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-10-03 14:11:53.531 +03:00 [INF] RejectExpenseForm: Expense form with ID 397f02e5-bf05-4572-1600-08dcdd375058 has been successfully rejected by the manager.
2024-10-03 14:11:53.533 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 52.8949ms.
2024-10-03 14:11:53.537 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 14:11:53.539 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web) in 95.7876ms
2024-10-03 14:11:53.541 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web)'
2024-10-03 14:11:53.542 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/RejectExpenseForm - 302 0 null 138.4916ms
2024-10-03 14:11:53.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:53.564 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:53.566 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:53.579 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:53.581 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:53.585 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:53.588 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:53.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:53.594 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:53.596 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:53.597 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.0579ms.
2024-10-03 14:11:53.599 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:53.603 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.5401ms.
2024-10-03 14:11:53.605 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 35.8494ms
2024-10-03 14:11:53.610 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:53.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 68.8593ms
2024-10-03 14:11:53.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:53.618 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:53.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.3784ms
2024-10-03 14:11:53.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.0458ms
2024-10-03 14:11:54.285 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - application/x-www-form-urlencoded 269
2024-10-03 14:11:54.379 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 14:11:54.395 +03:00 [INF] Route matched with {action = "ApproveExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveExpenseForm(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:54.435 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:54.439 +03:00 [INF] Attempting to approve expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:11:54.444 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:54.455 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__formId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__formId_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:11:54.469 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsApprovedByManager] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 14:11:54.486 +03:00 [INF] ApproveExpenseForm: Expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327 has been successfully approved by the manager.
2024-10-03 14:11:54.491 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 51.5527ms.
2024-10-03 14:11:54.497 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 14:11:54.503 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) in 86.8581ms
2024-10-03 14:11:54.511 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 14:11:54.519 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - 302 0 null 234.2722ms
2024-10-03 14:11:54.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 14:11:54.563 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:54.565 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:11:54.579 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:11:54.582 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 14:11:54.585 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:11:54.593 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 14:11:54.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:11:54.609 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:11:54.610 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 14:11:54.612 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 30.1971ms.
2024-10-03 14:11:54.615 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 14:11:54.620 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 5.4965ms.
2024-10-03 14:11:54.625 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 55.8309ms
2024-10-03 14:11:54.630 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 14:11:54.635 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 103.2974ms
2024-10-03 14:11:54.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:54.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:54.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.8316ms
2024-10-03 14:11:54.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.8637ms
2024-10-03 14:11:59.729 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 14:11:59.765 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:11:59.773 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:11:59.806 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:59.813 +03:00 [INF] User logged out.
2024-10-03 14:11:59.821 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 14:11:59.829 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 14:11:59.844 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 14:11:59.856 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 42.8161ms.
2024-10-03 14:11:59.868 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:11:59.873 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 93.5425ms
2024-10-03 14:11:59.875 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:11:59.877 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 148.3506ms
2024-10-03 14:11:59.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:11:59.897 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:11:59.900 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:11:59.917 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:11:59.920 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0182ms.
2024-10-03 14:11:59.923 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:11:59.927 +03:00 [INF] Executed ViewResult - view Index executed in 4.3521ms.
2024-10-03 14:11:59.933 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 30.0584ms
2024-10-03 14:11:59.941 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:11:59.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 69.7011ms
2024-10-03 14:11:59.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:11:59.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:11:59.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 31.4447ms
2024-10-03 14:12:00.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.1702ms
2024-10-03 14:12:00.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 14:12:00.545 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:00.550 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:00.566 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:00.570 +03:00 [INF] Login page accessed.
2024-10-03 14:12:00.571 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.6661ms.
2024-10-03 14:12:00.573 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 14:12:00.577 +03:00 [INF] Executed ViewResult - view Login executed in 3.7499ms.
2024-10-03 14:12:00.580 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 25.7783ms
2024-10-03 14:12:00.586 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:00.589 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 120.9885ms
2024-10-03 14:12:00.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:00.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:00.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.9105ms
2024-10-03 14:12:00.608 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.3181ms
2024-10-03 14:12:06.010 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 256
2024-10-03 14:12:06.094 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:06.108 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:06.159 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:06.162 +03:00 [INF] Login attempt for user accountant@expensify.com.
2024-10-03 14:12:06.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 14:12:06.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 14:12:06.258 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 14:12:06.260 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 14:12:06.266 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 14:12:06.273 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 14:12:06.276 +03:00 [INF] User accountant@expensify.com successfully logged in.
2024-10-03 14:12:06.280 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 118.3325ms.
2024-10-03 14:12:06.288 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:12:06.293 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 160.1758ms
2024-10-03 14:12:06.300 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:06.308 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 298.4572ms
2024-10-03 14:12:06.320 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:12:06.368 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:06.371 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:12:06.430 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:06.440 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0369ms.
2024-10-03 14:12:06.449 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:12:06.466 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:06.485 +03:00 [INF] Executed ViewResult - view Index executed in 36.6174ms.
2024-10-03 14:12:06.501 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 125.9458ms
2024-10-03 14:12:06.519 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:06.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:06.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:06.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 211.9379ms
2024-10-03 14:12:06.552 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 32.8238ms
2024-10-03 14:12:06.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.5328ms
2024-10-03 14:12:07.739 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:07.761 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:07.772 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:07.787 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:07.791 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:07.813 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:07.818 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:07.824 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:07.831 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 41.4902ms.
2024-10-03 14:12:07.841 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:07.862 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:07.866 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 26.6228ms.
2024-10-03 14:12:07.868 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 92.02ms
2024-10-03 14:12:07.871 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:07.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 135.0393ms
2024-10-03 14:12:07.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:07.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:07.886 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.2928ms
2024-10-03 14:12:07.890 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.6976ms
2024-10-03 14:12:13.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - null null
2024-10-03 14:12:13.942 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:12:13.953 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:13.981 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:13.984 +03:00 [INF] Fetching details for expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:12:13.988 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:12:13.999 +03:00 [INF] Returning details view for expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:12:14.001 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.0064ms.
2024-10-03 14:12:14.003 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:12:14.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:14.012 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 9.3272ms.
2024-10-03 14:12:14.015 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 49.9504ms
2024-10-03 14:12:14.018 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:12:14.023 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - 200 null text/html; charset=utf-8 121.5475ms
2024-10-03 14:12:14.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:14.028 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:14.088 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 59.6879ms
2024-10-03 14:12:14.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.8082ms
2024-10-03 14:12:15.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:15.825 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:15.838 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:15.873 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:15.877 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:15.882 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:15.889 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:15.891 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:15.894 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.5577ms.
2024-10-03 14:12:15.897 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:15.902 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:15.905 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 8.1144ms.
2024-10-03 14:12:15.909 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 51.4638ms
2024-10-03 14:12:15.918 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:15.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 152.6654ms
2024-10-03 14:12:15.925 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:15.948 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 22.3594ms
2024-10-03 14:12:16.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/01b471c3-e419-4da6-16cb-08dcdc691327 - null null
2024-10-03 14:12:17.015 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:12:17.019 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:17.030 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:17.032 +03:00 [INF] Fetching details for expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:12:17.035 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:12:17.040 +03:00 [INF] Returning details view for expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:12:17.042 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 10.4325ms.
2024-10-03 14:12:17.044 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:12:17.048 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:17.064 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 20.2584ms.
2024-10-03 14:12:17.069 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 47.7678ms
2024-10-03 14:12:17.079 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:12:17.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:17.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:17.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/01b471c3-e419-4da6-16cb-08dcdc691327 - 200 null text/html; charset=utf-8 158.131ms
2024-10-03 14:12:17.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.7402ms
2024-10-03 14:12:17.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.1645ms
2024-10-03 14:12:18.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:19.001 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:19.004 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:19.019 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:19.021 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:19.028 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:19.039 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:19.045 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:19.048 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 27.298ms.
2024-10-03 14:12:19.053 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:19.064 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:19.079 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 25.4517ms.
2024-10-03 14:12:19.101 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 91.2282ms
2024-10-03 14:12:19.115 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:19.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:19.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 217.1858ms
2024-10-03 14:12:19.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 19.6668ms
2024-10-03 14:12:19.731 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/f34dc252-46c5-4708-82d8-705414c0c4c4 - null null
2024-10-03 14:12:19.770 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:12:19.781 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:19.836 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:19.849 +03:00 [INF] Fetching details for expense form with ID: f34dc252-46c5-4708-82d8-705414c0c4c4
2024-10-03 14:12:19.863 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:12:19.870 +03:00 [INF] Returning details view for expense form with ID: f34dc252-46c5-4708-82d8-705414c0c4c4
2024-10-03 14:12:19.872 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 23.666ms.
2024-10-03 14:12:19.878 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:12:19.882 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:19.887 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 8.9875ms.
2024-10-03 14:12:19.889 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 96.1759ms
2024-10-03 14:12:19.892 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:12:19.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/f34dc252-46c5-4708-82d8-705414c0c4c4 - 200 null text/html; charset=utf-8 163.6035ms
2024-10-03 14:12:19.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:19.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:19.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.7191ms
2024-10-03 14:12:19.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.7028ms
2024-10-03 14:12:23.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:23.333 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:23.335 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:23.387 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:23.398 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:23.409 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:23.419 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:23.422 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:23.423 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 24.8106ms.
2024-10-03 14:12:23.426 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:23.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:23.434 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 7.8966ms.
2024-10-03 14:12:23.438 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 96.5535ms
2024-10-03 14:12:23.445 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:23.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 155.2516ms
2024-10-03 14:12:23.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:23.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.9749ms
2024-10-03 14:12:26.779 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/MarkAsPaid - application/x-www-form-urlencoded 265
2024-10-03 14:12:26.824 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web)'
2024-10-03 14:12:26.847 +03:00 [INF] Route matched with {action = "MarkAsPaid", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MarkAsPaid(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:26.875 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:26.888 +03:00 [INF] Marking expense form with ID f34dc252-46c5-4708-82d8-705414c0c4c4 as paid.
2024-10-03 14:12:26.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__expenseFormId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__expenseFormId_0
    ORDER BY [e].[SubmissionDate] DESC
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[SubmissionDate] DESC, [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:12:26.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsPaidByAccountant] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 14:12:27.005 +03:00 [INF] Expense form with ID f34dc252-46c5-4708-82d8-705414c0c4c4 has been successfully marked as paid.
2024-10-03 14:12:27.008 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 122.1545ms.
2024-10-03 14:12:27.011 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingPayment.
2024-10-03 14:12:27.013 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web) in 161.0184ms
2024-10-03 14:12:27.015 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web)'
2024-10-03 14:12:27.018 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/MarkAsPaid - 302 0 null 239.7336ms
2024-10-03 14:12:27.026 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:27.053 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:27.055 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:27.067 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:27.070 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:27.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:27.079 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:27.081 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:27.083 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 13.0523ms.
2024-10-03 14:12:27.086 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:27.093 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:27.103 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 16.9324ms.
2024-10-03 14:12:27.111 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 52.9612ms
2024-10-03 14:12:27.123 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:27.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:27.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:27.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 105.3737ms
2024-10-03 14:12:27.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 50.4938ms
2024-10-03 14:12:27.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.262ms
2024-10-03 14:12:31.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment?CurrencyFilter=USD&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - null null
2024-10-03 14:12:31.201 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:31.214 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:31.262 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:31.265 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:31.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:31.275 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:31.277 +03:00 [INF] Filtered by Currency: USD
2024-10-03 14:12:31.280 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:31.282 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.5978ms.
2024-10-03 14:12:31.284 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:31.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:31.295 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 11.0622ms.
2024-10-03 14:12:31.297 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 67.7789ms
2024-10-03 14:12:31.299 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:31.302 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment?CurrencyFilter=USD&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - 200 null text/html; charset=utf-8 170.8183ms
2024-10-03 14:12:31.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:31.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:31.317 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.9991ms
2024-10-03 14:12:31.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.1835ms
2024-10-03 14:12:33.967 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - null null
2024-10-03 14:12:34.013 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:34.018 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:34.049 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:34.054 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:34.058 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:34.062 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:34.064 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:34.065 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 11.5333ms.
2024-10-03 14:12:34.069 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:34.073 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:34.077 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 8.4619ms.
2024-10-03 14:12:34.080 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 52.2873ms
2024-10-03 14:12:34.092 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:34.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:34.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - 200 null text/html; charset=utf-8 133.6644ms
2024-10-03 14:12:34.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:34.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.0748ms
2024-10-03 14:12:34.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.889ms
2024-10-03 14:12:35.761 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 14:12:35.784 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:12:35.789 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:35.808 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:35.811 +03:00 [INF] User logged out.
2024-10-03 14:12:35.813 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 14:12:35.815 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 14:12:35.818 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 14:12:35.820 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 9.1164ms.
2024-10-03 14:12:35.823 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:12:35.824 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 30.7732ms
2024-10-03 14:12:35.827 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:12:35.829 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 68.2102ms
2024-10-03 14:12:35.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:12:35.882 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:35.892 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:12:35.906 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:35.909 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0153ms.
2024-10-03 14:12:35.911 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:12:35.915 +03:00 [INF] Executed ViewResult - view Index executed in 3.5393ms.
2024-10-03 14:12:35.923 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 27.1712ms
2024-10-03 14:12:35.933 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:35.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:35.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:35.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 99.5162ms
2024-10-03 14:12:35.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.8357ms
2024-10-03 14:12:36.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.443ms
2024-10-03 14:12:38.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 14:12:38.910 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:38.923 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:38.972 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:38.977 +03:00 [INF] Login page accessed.
2024-10-03 14:12:38.979 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.6854ms.
2024-10-03 14:12:38.982 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 14:12:38.985 +03:00 [INF] Executed ViewResult - view Login executed in 3.4252ms.
2024-10-03 14:12:38.988 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 45.5424ms
2024-10-03 14:12:38.993 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:39.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 152.2735ms
2024-10-03 14:12:39.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:39.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:39.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.996ms
2024-10-03 14:12:39.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.6797ms
2024-10-03 14:12:47.359 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 256
2024-10-03 14:12:47.390 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:47.393 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:47.418 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:47.421 +03:00 [INF] Login attempt for user accountant@expensify.com.
2024-10-03 14:12:47.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 14:12:47.520 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 14:12:47.524 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 14:12:47.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 14:12:47.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 14:12:47.534 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 14:12:47.536 +03:00 [INF] User accountant@expensify.com successfully logged in.
2024-10-03 14:12:47.538 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 116.6229ms.
2024-10-03 14:12:47.541 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:12:47.543 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 145.2623ms
2024-10-03 14:12:47.546 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:47.549 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 190.9199ms
2024-10-03 14:12:47.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:12:47.574 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:47.576 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:12:47.587 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:47.590 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0144ms.
2024-10-03 14:12:47.592 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:12:47.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:47.602 +03:00 [INF] Executed ViewResult - view Index executed in 10.5307ms.
2024-10-03 14:12:47.604 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 25.3146ms
2024-10-03 14:12:47.608 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:47.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:47.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:47.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 58.7946ms
2024-10-03 14:12:47.623 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.2724ms
2024-10-03 14:12:47.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.275ms
2024-10-03 14:12:48.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:48.385 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:48.390 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:48.405 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:48.407 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:48.413 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:48.420 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:48.422 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:48.424 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.4669ms.
2024-10-03 14:12:48.427 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:48.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:48.441 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 13.3176ms.
2024-10-03 14:12:48.444 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 50.2501ms
2024-10-03 14:12:48.451 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:48.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 105.2485ms
2024-10-03 14:12:48.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:48.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:48.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.2087ms
2024-10-03 14:12:48.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.5206ms
2024-10-03 14:12:49.438 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/MarkAsPaid - application/x-www-form-urlencoded 265
2024-10-03 14:12:49.472 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web)'
2024-10-03 14:12:49.476 +03:00 [INF] Route matched with {action = "MarkAsPaid", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MarkAsPaid(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:49.505 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:49.512 +03:00 [INF] Marking expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085 as paid.
2024-10-03 14:12:49.524 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__expenseFormId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__expenseFormId_0
    ORDER BY [e].[SubmissionDate] DESC
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[SubmissionDate] DESC, [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:12:49.566 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsPaidByAccountant] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 14:12:49.573 +03:00 [INF] Expense form with ID 05f1b9a3-5f21-45b4-dc28-08dce39b6085 has been successfully marked as paid.
2024-10-03 14:12:49.575 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 63.1978ms.
2024-10-03 14:12:49.584 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingPayment.
2024-10-03 14:12:49.588 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web) in 102.2135ms
2024-10-03 14:12:49.591 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web)'
2024-10-03 14:12:49.593 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/MarkAsPaid - 302 0 null 155.2448ms
2024-10-03 14:12:49.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:49.618 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:49.620 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:49.631 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:49.633 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:49.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:49.641 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:49.642 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:49.644 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 10.8284ms.
2024-10-03 14:12:49.647 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:49.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:49.653 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 6.4984ms.
2024-10-03 14:12:49.656 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 32.7044ms
2024-10-03 14:12:49.660 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:49.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 65.9565ms
2024-10-03 14:12:49.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:49.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:49.679 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.7382ms
2024-10-03 14:12:49.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.8152ms
2024-10-03 14:12:50.000 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/MarkAsPaid - application/x-www-form-urlencoded 265
2024-10-03 14:12:50.027 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web)'
2024-10-03 14:12:50.031 +03:00 [INF] Route matched with {action = "MarkAsPaid", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MarkAsPaid(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:50.052 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:50.055 +03:00 [INF] Marking expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327 as paid.
2024-10-03 14:12:50.059 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseFormId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__expenseFormId_0
    ORDER BY [e].[SubmissionDate] DESC
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[SubmissionDate] DESC, [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:12:50.069 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsPaidByAccountant] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 14:12:50.073 +03:00 [INF] Expense form with ID 01b471c3-e419-4da6-16cb-08dcdc691327 has been successfully marked as paid.
2024-10-03 14:12:50.075 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 19.8035ms.
2024-10-03 14:12:50.079 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingPayment.
2024-10-03 14:12:50.111 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web) in 71.4613ms
2024-10-03 14:12:50.118 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.MarkAsPaid (Expensify.Web)'
2024-10-03 14:12:50.122 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/MarkAsPaid - 302 0 null 121.4661ms
2024-10-03 14:12:50.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:50.193 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:50.202 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:50.256 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:50.270 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:50.279 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:50.285 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:50.287 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:50.289 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 19.8459ms.
2024-10-03 14:12:50.291 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:50.296 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:50.304 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 12.338ms.
2024-10-03 14:12:50.306 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 93.3521ms
2024-10-03 14:12:50.311 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:50.318 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 191.7501ms
2024-10-03 14:12:50.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:50.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:50.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 18.0629ms
2024-10-03 14:12:50.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.0177ms
2024-10-03 14:12:53.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - null null
2024-10-03 14:12:53.520 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:53.525 +03:00 [INF] Route matched with {action = "PendingPayment", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingPayment(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:12:53.541 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) - Validation state: "Invalid"
2024-10-03 14:12:53.543 +03:00 [INF] Fetching approved expense forms for payment.
2024-10-03 14:12:53.548 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[IsApprovedByManager] = CAST(1 AS bit) AND [e].[IsPaidByAccountant] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[SubmissionDate] DESC, [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 14:12:53.553 +03:00 [INF] Applying filters to expense forms.
2024-10-03 14:12:53.555 +03:00 [INF] Returning view with filtered expense forms pending payment.
2024-10-03 14:12:53.557 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 13.416ms.
2024-10-03 14:12:53.560 +03:00 [INF] Executing ViewResult, running view PendingPayment.
2024-10-03 14:12:53.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:12:53.568 +03:00 [INF] Executed ViewResult - view PendingPayment executed in 7.8969ms.
2024-10-03 14:12:53.570 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web) in 38.0535ms
2024-10-03 14:12:53.576 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingPayment (Expensify.Web)'
2024-10-03 14:12:53.581 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:53.583 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:53.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingPayment - 200 null text/html; charset=utf-8 137.3312ms
2024-10-03 14:12:53.592 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.1774ms
2024-10-03 14:12:53.636 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.0572ms
2024-10-03 14:12:57.262 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 14:12:57.284 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:12:57.286 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:57.303 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:57.306 +03:00 [INF] User logged out.
2024-10-03 14:12:57.310 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 14:12:57.315 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 14:12:57.317 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 14:12:57.319 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 13.15ms.
2024-10-03 14:12:57.321 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:12:57.323 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 33.9577ms
2024-10-03 14:12:57.327 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 14:12:57.329 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 66.8748ms
2024-10-03 14:12:57.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:12:57.353 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:57.359 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:12:57.394 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:57.404 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0397ms.
2024-10-03 14:12:57.414 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:12:57.425 +03:00 [INF] Executed ViewResult - view Index executed in 10.9445ms.
2024-10-03 14:12:57.434 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 65.67ms
2024-10-03 14:12:57.450 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:12:57.451 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:57.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:57.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 126.4236ms
2024-10-03 14:12:57.471 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 19.8054ms
2024-10-03 14:12:57.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4067ms
2024-10-03 14:12:58.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 14:12:58.178 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:58.183 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:12:58.224 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:12:58.235 +03:00 [INF] Login page accessed.
2024-10-03 14:12:58.242 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 6.3593ms.
2024-10-03 14:12:58.258 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 14:12:58.280 +03:00 [INF] Executed ViewResult - view Login executed in 22.0834ms.
2024-10-03 14:12:58.283 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 96.6344ms
2024-10-03 14:12:58.286 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:12:58.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 153.9374ms
2024-10-03 14:12:58.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:12:58.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:12:58.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.5919ms
2024-10-03 14:12:58.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.2944ms
2024-10-03 14:13:09.906 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 251
2024-10-03 14:13:09.980 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:13:09.991 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 14:13:10.041 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:10.048 +03:00 [INF] Login attempt for user admin@expensify.com.
2024-10-03 14:13:10.054 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 14:13:10.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 14:13:10.158 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 14:13:10.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 14:13:10.164 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 14:13:10.166 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 14:13:10.169 +03:00 [INF] User admin@expensify.com successfully logged in.
2024-10-03 14:13:10.175 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 126.9815ms.
2024-10-03 14:13:10.179 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 14:13:10.183 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 179.3774ms
2024-10-03 14:13:10.186 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 14:13:10.191 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 284.4146ms
2024-10-03 14:13:10.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 14:13:10.245 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:13:10.253 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 14:13:10.309 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:10.323 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0391ms.
2024-10-03 14:13:10.337 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 14:13:10.364 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:13:10.377 +03:00 [INF] Executed ViewResult - view Index executed in 40.4834ms.
2024-10-03 14:13:10.380 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 117.0815ms
2024-10-03 14:13:10.382 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 14:13:10.385 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 185.6908ms
2024-10-03 14:13:10.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:13:10.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:13:10.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.2106ms
2024-10-03 14:13:10.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8969ms
2024-10-03 14:13:15.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Admin/ExpenseFormHistory - null null
2024-10-03 14:13:15.204 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web)'
2024-10-03 14:13:15.214 +03:00 [INF] Route matched with {action = "ExpenseFormHistory", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExpenseFormHistory(Expensify.Web.Models.ViewModels.ExpenseFormHistoryViewModel) on controller Expensify.Web.Controllers.AdminController (Expensify.Web).
2024-10-03 14:13:15.231 +03:00 [INF] Executing action method Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:15.235 +03:00 [INF] Fetching expense form history.
2024-10-03 14:13:15.262 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ActionId], [e].[ExpenseFormId], [e].[PerformedByUserId], [e].[Timestamp], [e0].[Id], [e0].[AccountantId], [e0].[Currency], [e0].[EmployeeId], [e0].[IsApprovedByManager], [e0].[IsPaidByAccountant], [e0].[IsRejectedByManager], [e0].[ManagerId], [e0].[RejectionReason], [e0].[SubmissionDate], [e1].[Id], [e1].[Name], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ExpenseFormHistories] AS [e]
INNER JOIN [ExpenseForms] AS [e0] ON [e].[ExpenseFormId] = [e0].[Id]
INNER JOIN [ExpenseActions] AS [e1] ON [e].[ActionId] = [e1].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [e].[PerformedByUserId] = [a].[Id]
ORDER BY [e].[Timestamp] DESC
2024-10-03 14:13:15.285 +03:00 [INF] Applying filters for expense form history.
2024-10-03 14:13:15.291 +03:00 [INF] Returning view for expense form history.
2024-10-03 14:13:15.295 +03:00 [INF] Executed action method Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 62.3956ms.
2024-10-03 14:13:15.302 +03:00 [INF] Executing ViewResult, running view ExpenseFormHistory.
2024-10-03 14:13:15.347 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:13:15.376 +03:00 [INF] Executed ViewResult - view ExpenseFormHistory executed in 76.0001ms.
2024-10-03 14:13:15.391 +03:00 [INF] Executed action Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web) in 172.7288ms
2024-10-03 14:13:15.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:13:15.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:13:15.404 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web)'
2024-10-03 14:13:15.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 41.5981ms
2024-10-03 14:13:15.441 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Admin/ExpenseFormHistory - 200 null text/html; charset=utf-8 314.8622ms
2024-10-03 14:13:15.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.3447ms
2024-10-03 14:13:47.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/01b471c3-e419-4da6-16cb-08dcdc691327 - null null
2024-10-03 14:13:47.435 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:13:47.445 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:13:47.466 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:47.469 +03:00 [INF] Fetching details for expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:13:47.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:13:47.478 +03:00 [INF] Returning details view for expense form with ID: 01b471c3-e419-4da6-16cb-08dcdc691327
2024-10-03 14:13:47.480 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 11.5278ms.
2024-10-03 14:13:47.483 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:13:47.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:13:47.494 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 11.5294ms.
2024-10-03 14:13:47.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:13:47.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:13:47.528 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.6709ms
2024-10-03 14:13:47.516 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 63.2748ms
2024-10-03 14:13:47.608 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:13:47.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.9182ms
2024-10-03 14:13:47.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/01b471c3-e419-4da6-16cb-08dcdc691327 - 200 null text/html; charset=utf-8 273.6669ms
2024-10-03 14:13:49.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Admin/ExpenseFormHistory - null null
2024-10-03 14:13:50.084 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web)'
2024-10-03 14:13:50.091 +03:00 [INF] Route matched with {action = "ExpenseFormHistory", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExpenseFormHistory(Expensify.Web.Models.ViewModels.ExpenseFormHistoryViewModel) on controller Expensify.Web.Controllers.AdminController (Expensify.Web).
2024-10-03 14:13:50.111 +03:00 [INF] Executing action method Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:50.114 +03:00 [INF] Fetching expense form history.
2024-10-03 14:13:50.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ActionId], [e].[ExpenseFormId], [e].[PerformedByUserId], [e].[Timestamp], [e0].[Id], [e0].[AccountantId], [e0].[Currency], [e0].[EmployeeId], [e0].[IsApprovedByManager], [e0].[IsPaidByAccountant], [e0].[IsRejectedByManager], [e0].[ManagerId], [e0].[RejectionReason], [e0].[SubmissionDate], [e1].[Id], [e1].[Name], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ExpenseFormHistories] AS [e]
INNER JOIN [ExpenseForms] AS [e0] ON [e].[ExpenseFormId] = [e0].[Id]
INNER JOIN [ExpenseActions] AS [e1] ON [e].[ActionId] = [e1].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [e].[PerformedByUserId] = [a].[Id]
ORDER BY [e].[Timestamp] DESC
2024-10-03 14:13:50.126 +03:00 [INF] Applying filters for expense form history.
2024-10-03 14:13:50.130 +03:00 [INF] Returning view for expense form history.
2024-10-03 14:13:50.132 +03:00 [INF] Executed action method Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.2755ms.
2024-10-03 14:13:50.135 +03:00 [INF] Executing ViewResult, running view ExpenseFormHistory.
2024-10-03 14:13:50.146 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:13:50.164 +03:00 [INF] Executed ViewResult - view ExpenseFormHistory executed in 28.6991ms.
2024-10-03 14:13:50.174 +03:00 [INF] Executed action Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web) in 78.2235ms
2024-10-03 14:13:50.186 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web)'
2024-10-03 14:13:50.187 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:13:50.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Admin/ExpenseFormHistory - 200 null text/html; charset=utf-8 303.0593ms
2024-10-03 14:13:50.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.7585ms
2024-10-03 14:13:51.177 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - null null
2024-10-03 14:13:51.196 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:13:51.199 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 14:13:51.230 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:51.236 +03:00 [INF] Fetching details for expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:13:51.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 14:13:51.251 +03:00 [INF] Returning details view for expense form with ID: 05f1b9a3-5f21-45b4-dc28-08dce39b6085
2024-10-03 14:13:51.254 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.0082ms.
2024-10-03 14:13:51.256 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 14:13:51.259 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:13:51.262 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 6.364ms.
2024-10-03 14:13:51.264 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 56.9335ms
2024-10-03 14:13:51.267 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 14:13:51.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/05f1b9a3-5f21-45b4-dc28-08dce39b6085 - 200 null text/html; charset=utf-8 95.2037ms
2024-10-03 14:13:51.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:13:51.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:13:51.284 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.5304ms
2024-10-03 14:13:51.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.6774ms
2024-10-03 14:13:52.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Admin/ExpenseFormHistory - null null
2024-10-03 14:13:52.553 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web)'
2024-10-03 14:13:52.559 +03:00 [INF] Route matched with {action = "ExpenseFormHistory", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExpenseFormHistory(Expensify.Web.Models.ViewModels.ExpenseFormHistoryViewModel) on controller Expensify.Web.Controllers.AdminController (Expensify.Web).
2024-10-03 14:13:52.576 +03:00 [INF] Executing action method Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:13:52.578 +03:00 [INF] Fetching expense form history.
2024-10-03 14:13:52.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ActionId], [e].[ExpenseFormId], [e].[PerformedByUserId], [e].[Timestamp], [e0].[Id], [e0].[AccountantId], [e0].[Currency], [e0].[EmployeeId], [e0].[IsApprovedByManager], [e0].[IsPaidByAccountant], [e0].[IsRejectedByManager], [e0].[ManagerId], [e0].[RejectionReason], [e0].[SubmissionDate], [e1].[Id], [e1].[Name], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ExpenseFormHistories] AS [e]
INNER JOIN [ExpenseForms] AS [e0] ON [e].[ExpenseFormId] = [e0].[Id]
INNER JOIN [ExpenseActions] AS [e1] ON [e].[ActionId] = [e1].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [e].[PerformedByUserId] = [a].[Id]
ORDER BY [e].[Timestamp] DESC
2024-10-03 14:13:52.609 +03:00 [INF] Applying filters for expense form history.
2024-10-03 14:13:52.613 +03:00 [INF] Returning view for expense form history.
2024-10-03 14:13:52.615 +03:00 [INF] Executed action method Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 37.5476ms.
2024-10-03 14:13:52.623 +03:00 [INF] Executing ViewResult, running view ExpenseFormHistory.
2024-10-03 14:13:52.628 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:13:52.636 +03:00 [INF] Executed ViewResult - view ExpenseFormHistory executed in 13.7304ms.
2024-10-03 14:13:52.644 +03:00 [INF] Executed action Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web) in 80.8965ms
2024-10-03 14:13:52.655 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AdminController.ExpenseFormHistory (Expensify.Web)'
2024-10-03 14:13:52.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:13:52.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Admin/ExpenseFormHistory - 200 null text/html; charset=utf-8 148.8011ms
2024-10-03 14:13:52.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 20.9068ms
2024-10-03 14:16:27.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Admin/ExpenseTypeSummary - null null
2024-10-03 14:16:27.705 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AdminController.ExpenseTypeSummary (Expensify.Web)'
2024-10-03 14:16:27.711 +03:00 [INF] Route matched with {action = "ExpenseTypeSummary", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExpenseTypeSummary() on controller Expensify.Web.Controllers.AdminController (Expensify.Web).
2024-10-03 14:16:27.727 +03:00 [INF] Executing action method Expensify.Web.Controllers.AdminController.ExpenseTypeSummary (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:16:27.732 +03:00 [INF] Fetching expense type summary.
2024-10-03 14:16:27.768 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ActionId], [e].[ExpenseFormId], [e].[PerformedByUserId], [e].[Timestamp], [e0].[Id], [e0].[AccountantId], [e0].[Currency], [e0].[EmployeeId], [e0].[IsApprovedByManager], [e0].[IsPaidByAccountant], [e0].[IsRejectedByManager], [e0].[ManagerId], [e0].[RejectionReason], [e0].[SubmissionDate], [e1].[Id], [a].[Id], [e2].[Id], [e2].[Amount], [e2].[Date], [e2].[Description], [e2].[ExpenseFormId], [e1].[Name], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ExpenseFormHistories] AS [e]
INNER JOIN [ExpenseForms] AS [e0] ON [e].[ExpenseFormId] = [e0].[Id]
INNER JOIN [ExpenseActions] AS [e1] ON [e].[ActionId] = [e1].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [e].[PerformedByUserId] = [a].[Id]
LEFT JOIN [Expenses] AS [e2] ON [e0].[Id] = [e2].[ExpenseFormId]
ORDER BY [e].[Id], [e0].[Id], [e1].[Id], [a].[Id]
2024-10-03 14:16:27.803 +03:00 [INF] Returning expense type summary view.
2024-10-03 14:16:27.807 +03:00 [INF] Executed action method Expensify.Web.Controllers.AdminController.ExpenseTypeSummary (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 76.5054ms.
2024-10-03 14:16:27.816 +03:00 [INF] Executing ViewResult, running view ExpenseTypeSummary.
2024-10-03 14:16:27.833 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:16:27.846 +03:00 [INF] Executed ViewResult - view ExpenseTypeSummary executed in 31.5606ms.
2024-10-03 14:16:27.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:16:27.875 +03:00 [INF] Executed action Expensify.Web.Controllers.AdminController.ExpenseTypeSummary (Expensify.Web) in 161.0831ms
2024-10-03 14:16:27.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 26.7465ms
2024-10-03 14:16:27.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:16:27.933 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AdminController.ExpenseTypeSummary (Expensify.Web)'
2024-10-03 14:16:27.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Admin/ExpenseTypeSummary - 200 null text/html; charset=utf-8 350.3005ms
2024-10-03 14:16:27.982 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.044ms
2024-10-03 14:17:03.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Admin/EmployeeExpenseSummary - null null
2024-10-03 14:17:04.008 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AdminController.EmployeeExpenseSummary (Expensify.Web)'
2024-10-03 14:17:04.021 +03:00 [INF] Route matched with {action = "EmployeeExpenseSummary", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EmployeeExpenseSummary() on controller Expensify.Web.Controllers.AdminController (Expensify.Web).
2024-10-03 14:17:04.040 +03:00 [INF] Executing action method Expensify.Web.Controllers.AdminController.EmployeeExpenseSummary (Expensify.Web) - Validation state: "Valid"
2024-10-03 14:17:04.043 +03:00 [INF] Fetching employee expense summary.
2024-10-03 14:17:04.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
ORDER BY [e].[Id], [a].[Id]
2024-10-03 14:17:04.101 +03:00 [INF] Returning employee expense summary view.
2024-10-03 14:17:04.113 +03:00 [INF] Executed action method Expensify.Web.Controllers.AdminController.EmployeeExpenseSummary (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 70.2331ms.
2024-10-03 14:17:04.129 +03:00 [INF] Executing ViewResult, running view EmployeeExpenseSummary.
2024-10-03 14:17:04.210 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 14:17:04.223 +03:00 [INF] Executed ViewResult - view EmployeeExpenseSummary executed in 96.7685ms.
2024-10-03 14:17:04.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 14:17:04.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 14:17:04.255 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.5937ms
2024-10-03 14:17:04.248 +03:00 [INF] Executed action Expensify.Web.Controllers.AdminController.EmployeeExpenseSummary (Expensify.Web) in 219.6188ms
2024-10-03 14:17:04.270 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AdminController.EmployeeExpenseSummary (Expensify.Web)'
2024-10-03 14:17:04.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Admin/EmployeeExpenseSummary - 200 null text/html; charset=utf-8 317.5397ms
2024-10-03 14:17:04.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1228ms
