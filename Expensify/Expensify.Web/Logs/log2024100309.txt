2024-10-03 09:27:48.101 +03:00 [INF] User profile is available. Using 'C:\Users\fatih.celik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 09:27:48.328 +03:00 [INF] Now listening on: https://localhost:7189
2024-10-03 09:27:48.330 +03:00 [INF] Now listening on: http://localhost:5289
2024-10-03 09:27:48.355 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 09:27:48.357 +03:00 [INF] Hosting environment: Development
2024-10-03 09:27:48.359 +03:00 [INF] Content root path: C:\Users\fatih.celik\OneDrive - VERIPARK\Desktop\Expensify\Expensify\Expensify.Web
2024-10-03 09:27:50.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:27:50.592 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:27:50.640 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:27:50.682 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:27:50.691 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.212ms.
2024-10-03 09:27:50.703 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:27:50.942 +03:00 [INF] Executed ViewResult - view Index executed in 243.5268ms.
2024-10-03 09:27:50.947 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 303.1863ms
2024-10-03 09:27:50.951 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:27:50.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Expensify.Web.styles.css?v=yPQhX02gm2I2RxIvdAfs7uoZUSiPOy6A6IwceaHca4M - null null
2024-10-03 09:27:50.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:27:50.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:27:50.978 +03:00 [INF] The file /Expensify.Web.styles.css was not modified
2024-10-03 09:27:50.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 590.8922ms
2024-10-03 09:27:50.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Expensify.Web.styles.css?v=yPQhX02gm2I2RxIvdAfs7uoZUSiPOy6A6IwceaHca4M - 304 null text/css 23.4368ms
2024-10-03 09:27:51.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 47.7581ms
2024-10-03 09:27:51.034 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.6647ms
2024-10-03 09:27:51.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 09:27:51.599 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:27:51.605 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:27:51.622 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:27:51.625 +03:00 [INF] Login page accessed.
2024-10-03 09:27:51.627 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.9607ms.
2024-10-03 09:27:51.629 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 09:27:51.663 +03:00 [INF] Executed ViewResult - view Login executed in 34.127ms.
2024-10-03 09:27:51.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:27:51.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:27:51.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.5367ms
2024-10-03 09:27:51.680 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 71.7424ms
2024-10-03 09:27:51.685 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:27:51.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.549ms
2024-10-03 09:27:51.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 117.0461ms
2024-10-03 09:27:59.462 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 254
2024-10-03 09:27:59.494 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:27:59.510 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:27:59.557 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:27:59.562 +03:00 [INF] Login attempt for user employee@expensify.com.
2024-10-03 09:28:00.770 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Expense'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-10-03 09:28:02.970 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 09:28:02.994 +03:00 [WRN] Invalid login attempt for user employee@expensify.com.
2024-10-03 09:28:03.000 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3438.8062ms.
2024-10-03 09:28:03.003 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 09:28:03.011 +03:00 [INF] Executed ViewResult - view Login executed in 7.7463ms.
2024-10-03 09:28:03.014 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 3499.7888ms
2024-10-03 09:28:03.016 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:28:03.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:28:03.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:28:03.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.8144ms
2024-10-03 09:28:03.030 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 3568.4819ms
2024-10-03 09:28:03.030 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.3618ms
2024-10-03 09:28:10.179 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 255
2024-10-03 09:28:10.209 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:28:10.212 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:28:10.224 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:28:10.227 +03:00 [INF] Login attempt for user employee2@expensify.com.
2024-10-03 09:28:10.286 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 09:28:10.485 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 09:28:10.520 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 09:28:10.533 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 09:28:10.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 09:28:10.563 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 09:28:10.566 +03:00 [INF] User employee2@expensify.com successfully logged in.
2024-10-03 09:28:10.568 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 340.6823ms.
2024-10-03 09:28:10.571 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:28:10.574 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 359.6731ms
2024-10-03 09:28:10.576 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:28:10.578 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 400.3235ms
2024-10-03 09:28:10.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:28:10.600 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:28:10.602 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:28:10.613 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:28:10.615 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0238ms.
2024-10-03 09:28:10.617 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:28:10.659 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:28:10.668 +03:00 [INF] Executed ViewResult - view Index executed in 50.9728ms.
2024-10-03 09:28:10.671 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 66.1614ms
2024-10-03 09:28:10.676 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:28:10.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:28:10.678 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:28:10.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 99.3914ms
2024-10-03 09:28:10.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.2769ms
2024-10-03 09:28:10.714 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.075ms
2024-10-03 09:28:19.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 09:28:19.814 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:28:19.819 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:28:19.832 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:28:19.836 +03:00 [INF] Entering Add expense form view
2024-10-03 09:28:19.841 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:28:19.845 +03:00 [INF] Creating new expense form for employee with ID: cc69ff21-9b3a-4d50-9a14-71c34e31b9e4
2024-10-03 09:28:19.847 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 12.3367ms.
2024-10-03 09:28:19.852 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 09:28:19.871 +03:00 [INF] Executed ViewResult - view Add executed in 21.4448ms.
2024-10-03 09:28:19.874 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 51.9021ms
2024-10-03 09:28:19.877 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:28:19.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:28:19.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:28:19.880 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 91.3821ms
2024-10-03 09:28:19.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.6157ms
2024-10-03 09:28:19.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.8571ms
2024-10-03 09:30:39.406 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Add - application/x-www-form-urlencoded 447
2024-10-03 09:30:39.441 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:30:39.458 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Expensify.Web.Models.ViewModels.AddExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:30:39.489 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:30:39.496 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:30:39.500 +03:00 [INF] Saving new expense form for employee cc69ff21-9b3a-4d50-9a14-71c34e31b9e4.
2024-10-03 09:30:39.717 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 450), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = DateTime2), @p18='?' (Size = 255), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p22='?' (DbType = DateTime2), @p23='?' (Size = 255), @p24='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseForms] ([Id], [AccountantId], [Currency], [EmployeeId], [IsApprovedByManager], [IsPaidByAccountant], [IsRejectedByManager], [ManagerId], [RejectionReason], [SubmissionDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p10, @p11, @p12, @p13, @p14);
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24);
2024-10-03 09:30:39.740 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 247.501ms.
2024-10-03 09:30:39.744 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:30:39.746 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 284.8274ms
2024-10-03 09:30:39.748 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:30:39.750 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Add - 302 0 null 344.7199ms
2024-10-03 09:30:39.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:30:39.769 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:30:39.770 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:30:39.781 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:30:39.783 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0203ms.
2024-10-03 09:30:39.785 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:30:39.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:30:39.793 +03:00 [INF] Executed ViewResult - view Index executed in 8.4774ms.
2024-10-03 09:30:39.795 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 22.5849ms
2024-10-03 09:30:39.798 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:30:39.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 49.8034ms
2024-10-03 09:30:39.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:30:39.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:30:39.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.2423ms
2024-10-03 09:30:39.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.091ms
2024-10-03 09:30:43.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:30:43.035 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:30:43.042 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:30:43.057 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:30:43.060 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:30:43.064 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:30:43.068 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:30:43.129 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:30:43.148 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:30:43.151 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:30:43.155 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 95.6665ms.
2024-10-03 09:30:43.158 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:30:43.188 +03:00 [INF] Executed ViewResult - view List executed in 31.3349ms.
2024-10-03 09:30:43.192 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 147.5083ms
2024-10-03 09:30:43.194 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:30:43.195 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:30:43.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 183.9703ms
2024-10-03 09:30:43.195 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:30:43.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.6042ms
2024-10-03 09:30:43.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.2013ms
2024-10-03 09:30:49.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status=Paid - null null
2024-10-03 09:30:49.775 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:30:49.779 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:30:49.799 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:30:49.802 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:30:49.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:30:49.811 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:30:49.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:30:49.823 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:30:49.826 +03:00 [INF] Applying Status filter: Paid
2024-10-03 09:30:49.830 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:30:49.833 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 30.4404ms.
2024-10-03 09:30:49.836 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:30:49.841 +03:00 [INF] Executed ViewResult - view List executed in 5.5297ms.
2024-10-03 09:30:49.848 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 66.777ms
2024-10-03 09:30:49.856 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:30:49.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:30:49.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:30:49.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status=Paid - 200 null text/html; charset=utf-8 124.2649ms
2024-10-03 09:30:49.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.324ms
2024-10-03 09:30:49.918 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.1076ms
2024-10-03 09:30:51.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 09:30:51.774 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:30:51.778 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:30:51.791 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:30:51.793 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:30:51.797 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:30:51.800 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:30:51.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:30:51.807 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:30:51.809 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:30:51.811 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.6919ms.
2024-10-03 09:30:51.813 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:30:51.818 +03:00 [INF] Executed ViewResult - view List executed in 4.2661ms.
2024-10-03 09:30:51.820 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 39.252ms
2024-10-03 09:30:51.823 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:30:51.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:30:51.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:30:51.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 71.038ms
2024-10-03 09:30:51.837 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.3672ms
2024-10-03 09:30:51.851 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.5966ms
2024-10-03 09:31:03.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:31:03.336 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:03.344 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:03.367 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:31:03.373 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:31:03.407 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:03.414 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:03.415 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 44.0097ms.
2024-10-03 09:31:03.418 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:31:03.449 +03:00 [INF] Executed ViewResult - view Edit executed in 31.7844ms.
2024-10-03 09:31:03.452 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 104.7053ms
2024-10-03 09:31:03.456 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:03.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:03.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:03.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 179.451ms
2024-10-03 09:31:03.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.5468ms
2024-10-03 09:31:03.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.5701ms
2024-10-03 09:31:09.681 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 509
2024-10-03 09:31:09.700 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:09.708 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:09.721 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:09.726 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:09.729 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:09.733 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:09.740 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:09.757 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Expenses]
OUTPUT 1
WHERE [Id] = @p0;
2024-10-03 09:31:09.768 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Expenses]
OUTPUT 1
WHERE [Id] = @p0;
2024-10-03 09:31:09.783 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:31:09.790 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-10-03 09:31:09.793 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:31:09.795 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 71.3733ms.
2024-10-03 09:31:09.797 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:31:09.799 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 88.0767ms
2024-10-03 09:31:09.801 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:09.803 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 122.6634ms
2024-10-03 09:31:09.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:31:09.822 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:09.824 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:09.836 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:09.838 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:31:09.841 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:09.844 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:31:09.846 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:31:09.850 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:31:09.852 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:31:09.853 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.5395ms.
2024-10-03 09:31:09.855 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:31:09.859 +03:00 [INF] Executed ViewResult - view List executed in 4.1989ms.
2024-10-03 09:31:09.862 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 35.327ms
2024-10-03 09:31:09.864 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:09.866 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:09.866 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:09.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 60.0343ms
2024-10-03 09:31:09.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.0941ms
2024-10-03 09:31:09.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.3362ms
2024-10-03 09:31:13.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:31:13.959 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:13.961 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:13.973 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:31:13.975 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:31:13.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:13.986 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:13.988 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 12.6244ms.
2024-10-03 09:31:13.990 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:31:13.995 +03:00 [INF] Executed ViewResult - view Edit executed in 4.5693ms.
2024-10-03 09:31:13.997 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 34.1364ms
2024-10-03 09:31:13.999 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:14.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:14.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:14.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 68.0534ms
2024-10-03 09:31:14.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.8051ms
2024-10-03 09:31:14.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.0449ms
2024-10-03 09:31:19.278 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 278
2024-10-03 09:31:19.302 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:19.304 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:19.318 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:19.320 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:19.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:19.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:19.333 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:19.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:31:19.347 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [Currency] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 09:31:19.354 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:31:19.356 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 35.5793ms.
2024-10-03 09:31:19.358 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:31:19.360 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 53.219ms
2024-10-03 09:31:19.362 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:19.365 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 87.583ms
2024-10-03 09:31:19.368 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:31:19.384 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:19.386 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:19.397 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:19.399 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:31:19.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:19.406 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:31:19.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:31:19.412 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:31:19.413 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:31:19.416 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.3669ms.
2024-10-03 09:31:19.418 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:31:19.421 +03:00 [INF] Executed ViewResult - view List executed in 3.5214ms.
2024-10-03 09:31:19.423 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 34.8449ms
2024-10-03 09:31:19.426 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:19.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:19.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:19.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 61.461ms
2024-10-03 09:31:19.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.4543ms
2024-10-03 09:31:19.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.6149ms
2024-10-03 09:31:21.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:31:21.229 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:21.233 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:21.249 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:31:21.251 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:31:21.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:21.259 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:21.261 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 9.8111ms.
2024-10-03 09:31:21.263 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:31:21.268 +03:00 [INF] Executed ViewResult - view Edit executed in 5.0927ms.
2024-10-03 09:31:21.270 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 34.2109ms
2024-10-03 09:31:21.272 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:21.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:21.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:21.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 68.8008ms
2024-10-03 09:31:21.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.4206ms
2024-10-03 09:31:21.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.6496ms
2024-10-03 09:31:24.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:31:24.198 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:24.200 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:24.211 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:24.215 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:31:24.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:24.221 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:31:24.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:31:24.227 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:31:24.230 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:31:24.232 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.2036ms.
2024-10-03 09:31:24.234 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:31:24.238 +03:00 [INF] Executed ViewResult - view List executed in 3.4265ms.
2024-10-03 09:31:24.240 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 37.4777ms
2024-10-03 09:31:24.242 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:24.244 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:24.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 69.3761ms
2024-10-03 09:31:24.251 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.8561ms
2024-10-03 09:31:25.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:31:25.392 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:25.395 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:25.418 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:31:25.421 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:31:25.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:25.431 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:25.432 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 10.9167ms.
2024-10-03 09:31:25.435 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:31:25.438 +03:00 [INF] Executed ViewResult - view Edit executed in 3.8237ms.
2024-10-03 09:31:25.441 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 40.887ms
2024-10-03 09:31:25.443 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:25.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:25.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:25.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 78.1527ms
2024-10-03 09:31:25.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.3933ms
2024-10-03 09:31:25.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.0359ms
2024-10-03 09:31:41.857 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 439
2024-10-03 09:31:41.882 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:41.885 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:41.903 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:41.908 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:41.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:41.917 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:41.922 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:41.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:31:41.931 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-10-03 09:31:41.933 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:31:41.935 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 27.2454ms.
2024-10-03 09:31:41.937 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:31:41.940 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 48.6045ms
2024-10-03 09:31:41.942 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:41.943 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 86.7558ms
2024-10-03 09:31:41.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:31:41.961 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:41.963 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:41.974 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:41.977 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:31:41.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:41.983 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:31:41.986 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:31:41.992 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:31:41.993 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:31:41.995 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.4315ms.
2024-10-03 09:31:41.998 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:31:42.002 +03:00 [INF] Executed ViewResult - view List executed in 3.9913ms.
2024-10-03 09:31:42.005 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 39.7841ms
2024-10-03 09:31:42.010 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:42.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:42.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:42.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 70.0625ms
2024-10-03 09:31:42.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 18.7278ms
2024-10-03 09:31:42.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.9884ms
2024-10-03 09:31:44.090 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:31:44.109 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:44.112 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:44.124 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:31:44.126 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:31:44.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:31:44.132 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:31:44.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:31:44.141 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:31:44.142 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:31:44.144 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.8731ms.
2024-10-03 09:31:44.146 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:31:44.149 +03:00 [INF] Executed ViewResult - view List executed in 3.5349ms.
2024-10-03 09:31:44.152 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 37.101ms
2024-10-03 09:31:44.157 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:31:44.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:44.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:44.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 70.8983ms
2024-10-03 09:31:44.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.647ms
2024-10-03 09:31:44.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.821ms
2024-10-03 09:31:45.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:31:45.742 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:45.744 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:31:45.758 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:31:45.760 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:31:45.765 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:31:45.776 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:31:45.778 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.6838ms.
2024-10-03 09:31:45.780 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:31:45.783 +03:00 [INF] Executed ViewResult - view Edit executed in 3.53ms.
2024-10-03 09:31:45.785 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 38.8881ms
2024-10-03 09:31:45.791 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:31:45.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:31:45.795 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:31:45.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 80.2172ms
2024-10-03 09:31:45.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.9202ms
2024-10-03 09:31:45.814 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.8458ms
2024-10-03 09:32:27.340 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 760
2024-10-03 09:32:27.366 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:32:27.368 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:32:27.382 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:32:27.384 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:32:27.390 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:32:27.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:32:27.398 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:32:27.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:32:27.414 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (Size = 255), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p5, @p6, @p7, @p8, @p9);
2024-10-03 09:32:27.417 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:32:27.420 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 35.657ms.
2024-10-03 09:32:27.423 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:32:27.425 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 53.0996ms
2024-10-03 09:32:27.427 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:32:27.430 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 89.5328ms
2024-10-03 09:32:27.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:32:27.454 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:32:27.456 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:32:27.466 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:32:27.468 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:32:27.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:32:27.475 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:32:27.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:32:27.481 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:32:27.483 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:32:27.485 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.3122ms.
2024-10-03 09:32:27.489 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:32:27.493 +03:00 [INF] Executed ViewResult - view List executed in 4.5458ms.
2024-10-03 09:32:27.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:32:27.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:32:27.506 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 47.8117ms
2024-10-03 09:32:27.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.3753ms
2024-10-03 09:32:27.527 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:32:27.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.2361ms
2024-10-03 09:32:27.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 122.8162ms
2024-10-03 09:32:29.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:32:29.130 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:32:29.132 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:32:29.145 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:32:29.147 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:32:29.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:32:29.157 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:32:29.159 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 11.8422ms.
2024-10-03 09:32:29.161 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:32:29.166 +03:00 [INF] Executed ViewResult - view Edit executed in 5.4108ms.
2024-10-03 09:32:29.171 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 37.2593ms
2024-10-03 09:32:29.175 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:32:29.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:32:29.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:32:29.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 71.295ms
2024-10-03 09:32:29.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.3114ms
2024-10-03 09:32:29.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.0611ms
2024-10-03 09:34:07.668 +03:00 [INF] User profile is available. Using 'C:\Users\fatih.celik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 09:34:07.971 +03:00 [INF] Now listening on: https://localhost:7189
2024-10-03 09:34:07.974 +03:00 [INF] Now listening on: http://localhost:5289
2024-10-03 09:34:08.044 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 09:34:08.048 +03:00 [INF] Hosting environment: Development
2024-10-03 09:34:08.050 +03:00 [INF] Content root path: C:\Users\fatih.celik\OneDrive - VERIPARK\Desktop\Expensify\Expensify\Expensify.Web
2024-10-03 09:34:08.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:34:08.753 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:34:08.773 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:34:08.818 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:34:08.840 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.8763ms.
2024-10-03 09:34:08.853 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:34:09.716 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Expense'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-10-03 09:34:10.291 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:34:10.419 +03:00 [INF] Executed ViewResult - view Index executed in 1566.8371ms.
2024-10-03 09:34:10.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:34:10.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:34:10.433 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 1656.0023ms
2024-10-03 09:34:10.442 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:34:10.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 21.2426ms
2024-10-03 09:34:10.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 2060.8615ms
2024-10-03 09:34:10.482 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.465ms
2024-10-03 09:34:11.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:34:11.388 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:34:11.406 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:34:11.445 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:34:11.449 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:34:11.492 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:34:11.497 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:34:11.573 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:34:11.614 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:34:11.617 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:34:11.622 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 173.5255ms.
2024-10-03 09:34:11.627 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:34:11.664 +03:00 [INF] Executed ViewResult - view List executed in 37.3281ms.
2024-10-03 09:34:11.667 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 254.4699ms
2024-10-03 09:34:11.669 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:34:11.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:34:11.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:34:11.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 319.4413ms
2024-10-03 09:34:11.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.5262ms
2024-10-03 09:34:11.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4022ms
2024-10-03 09:34:13.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:34:13.328 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:34:13.335 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:34:13.356 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:34:18.950 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:34:20.994 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:34:38.584 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:34:39.897 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 26536.5766ms.
2024-10-03 09:34:39.932 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:34:40.277 +03:00 [INF] Executed ViewResult - view Edit executed in 376.3369ms.
2024-10-03 09:34:40.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:34:40.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:34:40.312 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 26974.1337ms
2024-10-03 09:34:40.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 75.9102ms
2024-10-03 09:34:40.364 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:34:40.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 27099.8962ms
2024-10-03 09:34:40.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.3503ms
2024-10-03 09:34:54.613 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 670
2024-10-03 09:34:54.641 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:34:54.648 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:34:54.686 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:35:05.585 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:35:06.065 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:35:16.778 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:40:06.725 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:40:06.767 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:40:06.923 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (Size = 255), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p5, @p6, @p7, @p8, @p9);
2024-10-03 09:40:06.957 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:40:06.961 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 312271.8341ms.
2024-10-03 09:40:06.965 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:40:06.968 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 312317.3137ms
2024-10-03 09:40:06.970 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:40:06.972 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 312359.1476ms
2024-10-03 09:40:06.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:40:06.997 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:40:07.000 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:40:07.011 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:40:07.013 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:40:07.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:40:07.020 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:40:07.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:40:07.029 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:40:07.031 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:40:07.034 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 20.3757ms.
2024-10-03 09:40:07.037 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:40:07.045 +03:00 [INF] Executed ViewResult - view List executed in 8.3271ms.
2024-10-03 09:40:07.048 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 46.2199ms
2024-10-03 09:40:07.053 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:40:07.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:40:07.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:40:07.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 79.6825ms
2024-10-03 09:40:07.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 23.007ms
2024-10-03 09:40:07.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.3401ms
2024-10-03 09:40:13.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:40:13.930 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:40:13.932 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:40:13.944 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:40:15.982 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:40:20.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:40:20.367 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:40:20.370 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 6423.6606ms.
2024-10-03 09:40:20.372 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:40:20.380 +03:00 [INF] Executed ViewResult - view Edit executed in 8.0813ms.
2024-10-03 09:40:20.383 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 6447.8644ms
2024-10-03 09:40:20.385 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:40:20.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:40:20.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:40:20.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 6478.6497ms
2024-10-03 09:40:20.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.2013ms
2024-10-03 09:40:20.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.0979ms
2024-10-03 09:40:42.714 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 903
2024-10-03 09:40:42.737 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:40:42.740 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:40:42.757 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:40:48.770 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:40:49.214 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:40:59.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:43:18.506 +03:00 [INF] User profile is available. Using 'C:\Users\fatih.celik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 09:43:18.736 +03:00 [INF] Now listening on: https://localhost:7189
2024-10-03 09:43:18.739 +03:00 [INF] Now listening on: http://localhost:5289
2024-10-03 09:43:18.770 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 09:43:18.773 +03:00 [INF] Hosting environment: Development
2024-10-03 09:43:18.775 +03:00 [INF] Content root path: C:\Users\fatih.celik\OneDrive - VERIPARK\Desktop\Expensify\Expensify\Expensify.Web
2024-10-03 09:43:19.386 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:43:19.727 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:43:19.742 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:43:19.784 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:43:19.792 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.7432ms.
2024-10-03 09:43:19.802 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:43:20.624 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Expense'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-10-03 09:43:21.243 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:43:21.334 +03:00 [INF] Executed ViewResult - view Index executed in 1532.6254ms.
2024-10-03 09:43:21.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:43:21.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:43:21.344 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 1596.4202ms
2024-10-03 09:43:21.350 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:43:21.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 20.5186ms
2024-10-03 09:43:21.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 1996.6636ms
2024-10-03 09:43:21.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.59ms
2024-10-03 09:43:23.267 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:43:23.317 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:43:23.334 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:43:23.357 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:43:23.362 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:43:23.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:43:23.404 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:43:23.463 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:43:23.499 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:43:23.501 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:43:23.505 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 144.3146ms.
2024-10-03 09:43:23.509 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:43:23.539 +03:00 [INF] Executed ViewResult - view List executed in 30.9708ms.
2024-10-03 09:43:23.542 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 204.4334ms
2024-10-03 09:43:23.545 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:43:23.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:43:23.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:43:23.549 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 282.4405ms
2024-10-03 09:43:23.552 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.6424ms
2024-10-03 09:43:23.573 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1546ms
2024-10-03 09:43:24.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:43:24.551 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:43:24.556 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:43:24.569 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:43:25.929 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:43:30.867 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:43:30.874 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:43:30.876 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 6304.302ms.
2024-10-03 09:43:30.878 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:43:30.911 +03:00 [INF] Executed ViewResult - view Edit executed in 33.5421ms.
2024-10-03 09:43:30.914 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 6354.7093ms
2024-10-03 09:43:30.917 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:43:30.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 6408.8129ms
2024-10-03 09:43:30.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:43:30.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:43:30.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.6948ms
2024-10-03 09:43:30.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.4935ms
2024-10-03 09:43:44.855 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 903
2024-10-03 09:43:44.888 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:43:44.895 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:43:44.930 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:43:59.145 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:43:59.778 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:44:02.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:44:09.948 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:47:30.379 +03:00 [INF] User profile is available. Using 'C:\Users\fatih.celik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 09:47:30.580 +03:00 [INF] Now listening on: https://localhost:7189
2024-10-03 09:47:30.582 +03:00 [INF] Now listening on: http://localhost:5289
2024-10-03 09:47:30.606 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 09:47:30.609 +03:00 [INF] Hosting environment: Development
2024-10-03 09:47:30.611 +03:00 [INF] Content root path: C:\Users\fatih.celik\OneDrive - VERIPARK\Desktop\Expensify\Expensify\Expensify.Web
2024-10-03 09:47:31.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:47:31.468 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:47:31.483 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:47:31.532 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:47:31.540 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.0383ms.
2024-10-03 09:47:31.549 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:47:32.369 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Expense'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-10-03 09:47:32.941 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:47:33.030 +03:00 [INF] Executed ViewResult - view Index executed in 1481.2603ms.
2024-10-03 09:47:33.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:47:33.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:47:33.038 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 1548.3817ms
2024-10-03 09:47:33.044 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:47:33.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 27.5517ms
2024-10-03 09:47:33.075 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 1911.5562ms
2024-10-03 09:47:33.094 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.7299ms
2024-10-03 09:47:34.265 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:47:34.298 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:47:34.314 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:47:34.338 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:47:34.342 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:47:34.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:47:34.384 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:47:34.447 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:47:34.485 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:47:34.489 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:47:34.492 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 150.9633ms.
2024-10-03 09:47:34.496 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:47:34.529 +03:00 [INF] Executed ViewResult - view List executed in 33.7468ms.
2024-10-03 09:47:34.532 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 215.5309ms
2024-10-03 09:47:34.535 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:47:34.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:47:34.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:47:34.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 272.3875ms
2024-10-03 09:47:34.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.1575ms
2024-10-03 09:47:34.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.2318ms
2024-10-03 09:47:35.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:47:35.684 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:47:35.691 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:47:35.705 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:47:37.451 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:47:38.054 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:47:38.062 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:47:38.063 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2356.3546ms.
2024-10-03 09:47:38.066 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:47:38.099 +03:00 [INF] Executed ViewResult - view Edit executed in 33.447ms.
2024-10-03 09:47:38.103 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 2409.2209ms
2024-10-03 09:47:38.105 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:47:38.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:47:38.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:47:38.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 2460.1662ms
2024-10-03 09:47:38.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.4647ms
2024-10-03 09:47:38.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.796ms
2024-10-03 09:47:50.618 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 900
2024-10-03 09:47:50.643 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:47:50.650 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:47:50.684 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:47:53.217 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:47:53.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:47:55.352 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:47:55.359 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:48:22.900 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:52:20.927 +03:00 [INF] User profile is available. Using 'C:\Users\fatih.celik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 09:52:21.220 +03:00 [INF] Now listening on: https://localhost:7189
2024-10-03 09:52:21.223 +03:00 [INF] Now listening on: http://localhost:5289
2024-10-03 09:52:21.246 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 09:52:21.249 +03:00 [INF] Hosting environment: Development
2024-10-03 09:52:21.252 +03:00 [INF] Content root path: C:\Users\fatih.celik\OneDrive - VERIPARK\Desktop\Expensify\Expensify\Expensify.Web
2024-10-03 09:52:21.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:52:22.023 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:52:22.038 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:52:22.075 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:52:22.081 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.4804ms.
2024-10-03 09:52:22.090 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:52:22.975 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Expense'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-10-03 09:52:23.560 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:52:23.648 +03:00 [INF] Executed ViewResult - view Index executed in 1557.8246ms.
2024-10-03 09:52:23.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:52:23.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:52:23.655 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 1614.1245ms
2024-10-03 09:52:23.662 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:52:23.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 21.808ms
2024-10-03 09:52:23.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 2036.8855ms
2024-10-03 09:52:23.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.3391ms
2024-10-03 09:52:25.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:52:25.623 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:52:25.640 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:52:25.664 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:52:25.668 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:52:25.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:52:25.709 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:52:25.779 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:52:25.819 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:52:25.822 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:52:25.826 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 159.0303ms.
2024-10-03 09:52:25.831 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:52:25.874 +03:00 [INF] Executed ViewResult - view List executed in 44.2841ms.
2024-10-03 09:52:25.878 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 234.3743ms
2024-10-03 09:52:25.880 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:52:25.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:52:25.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:52:25.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 293.9038ms
2024-10-03 09:52:25.886 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.3086ms
2024-10-03 09:52:25.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.6788ms
2024-10-03 09:52:27.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:52:27.133 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:52:27.138 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:52:27.151 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:52:28.703 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:52:29.340 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:52:29.346 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:52:29.348 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2194.377ms.
2024-10-03 09:52:29.351 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:52:29.382 +03:00 [INF] Executed ViewResult - view Edit executed in 31.9665ms.
2024-10-03 09:52:29.386 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 2244.9504ms
2024-10-03 09:52:29.388 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:52:29.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:52:29.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:52:29.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 2294.2638ms
2024-10-03 09:52:29.394 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.7402ms
2024-10-03 09:52:29.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.1428ms
2024-10-03 09:52:40.882 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 900
2024-10-03 09:52:40.914 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:52:40.920 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:52:40.954 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:52:43.353 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:52:43.360 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:52:47.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:52:47.933 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:53:11.493 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:53:16.236 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (Size = 255), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p5, @p6, @p7, @p8, @p9);
2024-10-03 09:53:16.258 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:53:16.262 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 35304.4451ms.
2024-10-03 09:53:16.265 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:53:16.268 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 35345.1244ms
2024-10-03 09:53:16.270 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:16.272 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 35390.1095ms
2024-10-03 09:53:16.276 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:53:16.291 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:53:16.293 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:53:16.305 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:53:16.307 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:53:16.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:53:16.315 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:53:16.319 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:53:16.323 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:53:16.324 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:53:16.326 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.8929ms.
2024-10-03 09:53:16.329 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:53:16.334 +03:00 [INF] Executed ViewResult - view List executed in 5.553ms.
2024-10-03 09:53:16.337 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 40.4769ms
2024-10-03 09:53:16.341 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:53:16.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:53:16.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:53:16.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 70.7644ms
2024-10-03 09:53:16.359 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 16.8711ms
2024-10-03 09:53:16.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.065ms
2024-10-03 09:53:18.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:53:18.219 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:18.221 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:53:18.236 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:53:22.228 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:53:22.883 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:53:22.889 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:53:22.891 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 4651.681ms.
2024-10-03 09:53:22.893 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:53:22.906 +03:00 [INF] Executed ViewResult - view Edit executed in 12.3048ms.
2024-10-03 09:53:22.910 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 4686.0558ms
2024-10-03 09:53:22.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:53:22.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:53:22.914 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:22.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.5166ms
2024-10-03 09:53:22.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 4721.813ms
2024-10-03 09:53:22.937 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.6607ms
2024-10-03 09:53:41.141 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 740
2024-10-03 09:53:41.161 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:41.163 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:53:41.178 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:53:41.180 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:53:41.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:53:41.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:53:41.193 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:53:41.207 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Expenses]
OUTPUT 1
WHERE [Id] = @p0;
2024-10-03 09:53:41.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:53:41.225 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-10-03 09:53:41.228 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:53:41.230 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 49.204ms.
2024-10-03 09:53:41.232 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:53:41.235 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 69.9366ms
2024-10-03 09:53:41.237 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:41.239 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 97.9472ms
2024-10-03 09:53:41.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:53:41.257 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:53:41.259 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:53:41.269 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:53:41.271 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:53:41.275 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:53:41.278 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:53:41.280 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:53:41.285 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:53:41.287 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:53:41.288 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.0213ms.
2024-10-03 09:53:41.290 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:53:41.295 +03:00 [INF] Executed ViewResult - view List executed in 4.3207ms.
2024-10-03 09:53:41.297 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 35.7411ms
2024-10-03 09:53:41.299 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:53:41.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 60.7789ms
2024-10-03 09:53:41.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:53:41.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:53:41.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.7949ms
2024-10-03 09:53:41.323 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.8629ms
2024-10-03 09:53:42.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - null null
2024-10-03 09:53:42.451 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:42.453 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:53:42.468 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:53:42.470 +03:00 [INF] Fetching expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f for editing.
2024-10-03 09:53:42.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:53:42.478 +03:00 [INF] Returning view for editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:53:42.479 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 9.4162ms.
2024-10-03 09:53:42.481 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:53:42.491 +03:00 [INF] Executed ViewResult - view Edit executed in 9.2491ms.
2024-10-03 09:53:42.493 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 37.1489ms
2024-10-03 09:53:42.495 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:53:42.497 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 200 null text/html; charset=utf-8 67.112ms
2024-10-03 09:53:42.498 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:53:42.498 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:53:42.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.0087ms
2024-10-03 09:53:42.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.0039ms
2024-10-03 09:56:59.572 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - application/x-www-form-urlencoded 900
2024-10-03 09:56:59.604 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:56:59.608 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:56:59.627 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:56:59.630 +03:00 [INF] Editing expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:56:59.636 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:56:59.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:56:59.657 +03:00 [INF] Updating the currency and expenses for expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f.
2024-10-03 09:56:59.661 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:56:59.683 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (Size = 255), @p11='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [Currency] = @p5
OUTPUT 1
WHERE [Id] = @p6;
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p7, @p8, @p9, @p10, @p11);
2024-10-03 09:56:59.689 +03:00 [INF] Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f updated successfully.
2024-10-03 09:56:59.692 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 62.3066ms.
2024-10-03 09:56:59.696 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:56:59.701 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 88.4108ms
2024-10-03 09:56:59.705 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:56:59.708 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/c3036b4c-e48e-4d9c-4046-08dce374e60f - 302 0 null 142.2361ms
2024-10-03 09:56:59.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:56:59.735 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:56:59.737 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:56:59.749 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:56:59.752 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:56:59.755 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:56:59.758 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:56:59.760 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:56:59.764 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:56:59.766 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:56:59.768 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.814ms.
2024-10-03 09:56:59.770 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:56:59.775 +03:00 [INF] Executed ViewResult - view List executed in 4.5649ms.
2024-10-03 09:56:59.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:56:59.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:56:59.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.8492ms
2024-10-03 09:56:59.787 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 46.6847ms
2024-10-03 09:56:59.819 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:56:59.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 108.8213ms
2024-10-03 09:56:59.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.9424ms
2024-10-03 09:57:11.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=1400&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 09:57:11.159 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:11.161 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:11.181 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:11.184 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:11.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:11.190 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:11.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:11.199 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:11.202 +03:00 [INF] Filtered by MinAmount: 1400
2024-10-03 09:57:11.204 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:11.206 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 22.1899ms.
2024-10-03 09:57:11.208 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:11.214 +03:00 [INF] Executed ViewResult - view List executed in 5.1853ms.
2024-10-03 09:57:11.216 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 51.8531ms
2024-10-03 09:57:11.221 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:11.224 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:11.225 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:11.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=1400&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 88.1036ms
2024-10-03 09:57:11.231 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.2796ms
2024-10-03 09:57:11.256 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.6987ms
2024-10-03 09:57:13.922 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=1400&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 09:57:13.940 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:13.942 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:13.955 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:13.957 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:13.964 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:13.967 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:13.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:13.974 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:13.976 +03:00 [INF] Filtered by MinAmount: 1400
2024-10-03 09:57:13.979 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:13.981 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 23.4907ms.
2024-10-03 09:57:13.983 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:13.987 +03:00 [INF] Executed ViewResult - view List executed in 3.6675ms.
2024-10-03 09:57:13.989 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 42.566ms
2024-10-03 09:57:13.991 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:13.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:13.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:13.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=1400&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 71.9122ms
2024-10-03 09:57:14.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.0045ms
2024-10-03 09:57:14.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.0573ms
2024-10-03 09:57:14.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=1400&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 09:57:14.156 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:14.158 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:14.171 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:14.173 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:14.178 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:14.182 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:14.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:14.189 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:14.190 +03:00 [INF] Filtered by MinAmount: 1400
2024-10-03 09:57:14.192 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:14.196 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 22.7042ms.
2024-10-03 09:57:14.199 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:14.203 +03:00 [INF] Executed ViewResult - view List executed in 3.8218ms.
2024-10-03 09:57:14.205 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 42.6247ms
2024-10-03 09:57:14.207 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:14.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:14.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:14.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=1400&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 73.077ms
2024-10-03 09:57:14.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.2626ms
2024-10-03 09:57:14.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.2826ms
2024-10-03 09:57:17.968 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=145000&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 09:57:17.990 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:17.992 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:18.005 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:18.008 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:18.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:18.016 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:18.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:18.022 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:18.024 +03:00 [INF] Filtered by MinAmount: 145000
2024-10-03 09:57:18.026 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:18.028 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 19.9618ms.
2024-10-03 09:57:18.030 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:18.034 +03:00 [INF] Executed ViewResult - view List executed in 3.6955ms.
2024-10-03 09:57:18.036 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 40.0342ms
2024-10-03 09:57:18.038 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:18.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:18.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:18.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=145000&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 75.0012ms
2024-10-03 09:57:18.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.5465ms
2024-10-03 09:57:18.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.4716ms
2024-10-03 09:57:19.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - null null
2024-10-03 09:57:19.515 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:19.517 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:19.531 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:19.534 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:19.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:19.541 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:19.545 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:19.549 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:19.551 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:19.552 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.7564ms.
2024-10-03 09:57:19.555 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:19.560 +03:00 [INF] Executed ViewResult - view List executed in 5.4312ms.
2024-10-03 09:57:19.563 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 43.6405ms
2024-10-03 09:57:19.566 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:19.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:19.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:19.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List?CurrencyFilter=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount&Status= - 200 null text/html; charset=utf-8 73.1034ms
2024-10-03 09:57:19.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.1675ms
2024-10-03 09:57:19.590 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.0333ms
2024-10-03 09:57:23.950 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/9546ec67-e5ff-4e21-97e2-62875fe50ac2 - null null
2024-10-03 09:57:23.973 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:57:23.975 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:23.991 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:23.994 +03:00 [INF] Fetching expense form with ID 9546ec67-e5ff-4e21-97e2-62875fe50ac2 for editing.
2024-10-03 09:57:23.997 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:57:24.002 +03:00 [INF] Returning view for editing expense form with ID 9546ec67-e5ff-4e21-97e2-62875fe50ac2.
2024-10-03 09:57:24.003 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 9.785ms.
2024-10-03 09:57:24.008 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:57:24.016 +03:00 [INF] Executed ViewResult - view Edit executed in 8.1064ms.
2024-10-03 09:57:24.018 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 39.5437ms
2024-10-03 09:57:24.020 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:57:24.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:24.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:24.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/9546ec67-e5ff-4e21-97e2-62875fe50ac2 - 200 null text/html; charset=utf-8 74.5858ms
2024-10-03 09:57:24.027 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.571ms
2024-10-03 09:57:24.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.8815ms
2024-10-03 09:57:29.073 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/9546ec67-e5ff-4e21-97e2-62875fe50ac2 - application/x-www-form-urlencoded 734
2024-10-03 09:57:29.094 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:57:29.096 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Expensify.Web.Models.ViewModels.ExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:29.107 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:29.110 +03:00 [INF] Editing expense form with ID 9546ec67-e5ff-4e21-97e2-62875fe50ac2.
2024-10-03 09:57:29.113 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:29.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:57:29.123 +03:00 [INF] Updating the currency and expenses for expense form with ID 9546ec67-e5ff-4e21-97e2-62875fe50ac2.
2024-10-03 09:57:29.125 +03:00 [INF] Resetting rejection status for expense form with ID 9546ec67-e5ff-4e21-97e2-62875fe50ac2.
2024-10-03 09:57:29.127 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__expenseForm_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate]
    FROM [ExpenseForms] AS [e]
    WHERE [e].[Id] = @__expenseForm_Id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id]
2024-10-03 09:57:29.134 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p9='?' (DbType = Guid), @p8='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsRejectedByManager] = @p5, [RejectionReason] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Expenses] SET [Description] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-10-03 09:57:29.140 +03:00 [INF] Expense form with ID 9546ec67-e5ff-4e21-97e2-62875fe50ac2 updated successfully.
2024-10-03 09:57:29.142 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 31.8037ms.
2024-10-03 09:57:29.144 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/List.
2024-10-03 09:57:29.146 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 47.1928ms
2024-10-03 09:57:29.148 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:57:29.149 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Edit/9546ec67-e5ff-4e21-97e2-62875fe50ac2 - 302 0 null 76.639ms
2024-10-03 09:57:29.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:57:29.168 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:29.170 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:29.181 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:29.183 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:29.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:29.190 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:29.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:29.196 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:29.197 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:29.199 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.0919ms.
2024-10-03 09:57:29.201 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:29.205 +03:00 [INF] Executed ViewResult - view List executed in 3.8444ms.
2024-10-03 09:57:29.207 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 34.3172ms
2024-10-03 09:57:29.209 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:29.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:29.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:29.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 60.5903ms
2024-10-03 09:57:29.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.1214ms
2024-10-03 09:57:29.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.7596ms
2024-10-03 09:57:36.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 09:57:36.384 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:57:36.390 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:36.401 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:36.404 +03:00 [INF] Entering Add expense form view
2024-10-03 09:57:36.407 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:36.410 +03:00 [INF] Creating new expense form for employee with ID: cc69ff21-9b3a-4d50-9a14-71c34e31b9e4
2024-10-03 09:57:36.413 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 10.3151ms.
2024-10-03 09:57:36.416 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 09:57:36.427 +03:00 [INF] Executed ViewResult - view Add executed in 11.843ms.
2024-10-03 09:57:36.430 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 37.6832ms
2024-10-03 09:57:36.432 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:57:36.434 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:36.434 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:36.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 73.15ms
2024-10-03 09:57:36.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.5676ms
2024-10-03 09:57:36.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.8325ms
2024-10-03 09:57:38.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:57:38.075 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:38.077 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:38.091 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:38.093 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:57:38.097 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:38.100 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:57:38.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:38.108 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:38.110 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:57:38.111 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.0893ms.
2024-10-03 09:57:38.113 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:57:38.117 +03:00 [INF] Executed ViewResult - view List executed in 3.9723ms.
2024-10-03 09:57:38.119 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 38.6735ms
2024-10-03 09:57:38.122 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:57:38.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:38.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:38.125 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 66.0491ms
2024-10-03 09:57:38.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.8293ms
2024-10-03 09:57:38.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3536ms
2024-10-03 09:57:41.189 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 09:57:41.207 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 09:57:41.212 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:57:41.225 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:41.229 +03:00 [INF] User logged out.
2024-10-03 09:57:41.234 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 09:57:41.237 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 09:57:41.239 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 09:57:41.240 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 12.6381ms.
2024-10-03 09:57:41.243 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:57:41.244 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 29.662ms
2024-10-03 09:57:41.246 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 09:57:41.248 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 58.6752ms
2024-10-03 09:57:41.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:57:41.266 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:57:41.268 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:57:41.278 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:41.280 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0236ms.
2024-10-03 09:57:41.284 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:57:41.289 +03:00 [INF] Executed ViewResult - view Index executed in 4.5586ms.
2024-10-03 09:57:41.292 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 21.1834ms
2024-10-03 09:57:41.294 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:57:41.296 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:41.296 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:41.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 45.4859ms
2024-10-03 09:57:41.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.5787ms
2024-10-03 09:57:41.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.5305ms
2024-10-03 09:57:42.585 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 09:57:42.609 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:57:42.612 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:57:42.624 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:42.627 +03:00 [INF] Login page accessed.
2024-10-03 09:57:42.629 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.8247ms.
2024-10-03 09:57:42.632 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 09:57:42.653 +03:00 [INF] Executed ViewResult - view Login executed in 21.7835ms.
2024-10-03 09:57:42.655 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 39.9813ms
2024-10-03 09:57:42.658 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:57:42.658 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:42.658 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:42.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 75.0363ms
2024-10-03 09:57:42.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.667ms
2024-10-03 09:57:42.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5384ms
2024-10-03 09:57:52.057 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 254
2024-10-03 09:57:52.106 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:57:52.113 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:57:52.129 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:52.136 +03:00 [INF] Login attempt for user manager1@expensify.com.
2024-10-03 09:57:52.161 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 09:57:52.284 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 09:57:52.310 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 09:57:52.329 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 09:57:52.350 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 09:57:52.360 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 09:57:52.365 +03:00 [INF] User manager1@expensify.com successfully logged in.
2024-10-03 09:57:52.369 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 235.0116ms.
2024-10-03 09:57:52.373 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:57:52.376 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 260.5815ms
2024-10-03 09:57:52.380 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:57:52.384 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 326.9148ms
2024-10-03 09:57:52.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:57:52.411 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:57:52.413 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:57:52.423 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:57:52.425 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.021ms.
2024-10-03 09:57:52.427 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:57:52.431 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:52.435 +03:00 [INF] Executed ViewResult - view Index executed in 7.8944ms.
2024-10-03 09:57:52.437 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 21.6856ms
2024-10-03 09:57:52.441 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:57:52.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:52.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:52.446 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 56.1673ms
2024-10-03 09:57:52.452 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.0922ms
2024-10-03 09:57:52.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1464ms
2024-10-03 09:57:53.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:57:53.664 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:57:53.670 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:57:53.682 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:57:53.685 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:57:53.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:57:53.692 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 09:57:53.718 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:57:53.724 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:57:53.726 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:57:53.729 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 44.7117ms.
2024-10-03 09:57:53.731 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:57:53.748 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 16.8956ms.
2024-10-03 09:57:53.750 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 77.7354ms
2024-10-03 09:57:53.755 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:57:53.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:57:53.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:57:53.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 119.1649ms
2024-10-03 09:57:53.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.0032ms
2024-10-03 09:57:53.772 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.7129ms
2024-10-03 09:58:06.149 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - application/x-www-form-urlencoded 269
2024-10-03 09:58:06.170 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:58:06.178 +03:00 [INF] Route matched with {action = "ApproveExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveExpenseForm(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:06.196 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:06.203 +03:00 [INF] Attempting to approve expense form with ID: c3036b4c-e48e-4d9c-4046-08dce374e60f
2024-10-03 09:58:06.210 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:06.243 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__formId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__formId_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:58:06.252 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsApprovedByManager] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 09:58:06.256 +03:00 [INF] ApproveExpenseForm: Expense form with ID c3036b4c-e48e-4d9c-4046-08dce374e60f has been successfully approved by the manager.
2024-10-03 09:58:06.258 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 58.0045ms.
2024-10-03 09:58:06.260 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 09:58:06.262 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) in 81.4744ms
2024-10-03 09:58:06.264 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:58:06.266 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - 302 0 null 117.3948ms
2024-10-03 09:58:06.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:58:06.284 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:06.285 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:06.296 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:58:06.298 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:58:06.302 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:06.305 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 09:58:06.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:58:06.312 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:58:06.314 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:58:06.315 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.796ms.
2024-10-03 09:58:06.317 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:58:06.323 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 5.3724ms.
2024-10-03 09:58:06.326 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 37.5146ms
2024-10-03 09:58:06.330 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:06.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:06.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:06.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 64.0429ms
2024-10-03 09:58:06.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.9718ms
2024-10-03 09:58:06.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.7453ms
2024-10-03 09:58:07.515 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - application/x-www-form-urlencoded 269
2024-10-03 09:58:07.532 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:58:07.534 +03:00 [INF] Route matched with {action = "ApproveExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveExpenseForm(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:07.546 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:07.548 +03:00 [INF] Attempting to approve expense form with ID: e4be1cea-49b6-4663-e4da-08dce31a3601
2024-10-03 09:58:07.551 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:07.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__formId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__formId_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:58:07.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsApprovedByManager] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 09:58:07.565 +03:00 [INF] ApproveExpenseForm: Expense form with ID e4be1cea-49b6-4663-e4da-08dce31a3601 has been successfully approved by the manager.
2024-10-03 09:58:07.567 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 19.4982ms.
2024-10-03 09:58:07.569 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 09:58:07.573 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) in 37.0295ms
2024-10-03 09:58:07.575 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:58:07.577 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - 302 0 null 61.7085ms
2024-10-03 09:58:07.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:58:07.595 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:07.597 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:07.608 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:58:07.610 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:58:07.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:07.616 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 09:58:07.619 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:58:07.625 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:58:07.626 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:58:07.628 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.5404ms.
2024-10-03 09:58:07.630 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:58:07.634 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 4.0888ms.
2024-10-03 09:58:07.636 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 36.6629ms
2024-10-03 09:58:07.640 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:07.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:07.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:07.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 65.0956ms
2024-10-03 09:58:07.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.4113ms
2024-10-03 09:58:07.655 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.6969ms
2024-10-03 09:58:19.389 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/RejectExpenseForm - application/x-www-form-urlencoded 308
2024-10-03 09:58:19.430 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web)'
2024-10-03 09:58:19.438 +03:00 [INF] Route matched with {action = "RejectExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RejectExpenseForm(System.Guid, System.String) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:19.458 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:19.462 +03:00 [INF] Attempting to reject expense form with ID: 5ed3f6fd-51ba-4d91-ef53-08dce2d4adce
2024-10-03 09:58:19.467 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:19.490 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:58:19.497 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsRejectedByManager] = @p5, [RejectionReason] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-10-03 09:58:19.502 +03:00 [INF] RejectExpenseForm: Expense form with ID 5ed3f6fd-51ba-4d91-ef53-08dce2d4adce has been successfully rejected by the manager.
2024-10-03 09:58:19.505 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 43.7392ms.
2024-10-03 09:58:19.509 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 09:58:19.512 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web) in 71.1196ms
2024-10-03 09:58:19.517 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web)'
2024-10-03 09:58:19.521 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/RejectExpenseForm - 302 0 null 132.0772ms
2024-10-03 09:58:19.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:58:19.545 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:19.547 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:19.558 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:58:19.560 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:58:19.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:19.567 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 09:58:19.569 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:58:19.573 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:58:19.575 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:58:19.577 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.7175ms.
2024-10-03 09:58:19.580 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:58:19.584 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 4.5293ms.
2024-10-03 09:58:19.587 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 36.6464ms
2024-10-03 09:58:19.591 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:19.594 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:19.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:19.595 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 71.2677ms
2024-10-03 09:58:19.609 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.4789ms
2024-10-03 09:58:19.619 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.9091ms
2024-10-03 09:58:35.412 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/RejectExpenseForm - application/x-www-form-urlencoded 307
2024-10-03 09:58:35.434 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web)'
2024-10-03 09:58:35.437 +03:00 [INF] Route matched with {action = "RejectExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RejectExpenseForm(System.Guid, System.String) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:35.454 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:35.456 +03:00 [INF] Attempting to reject expense form with ID: fb101135-d92f-4cea-b713-febf3a098f04
2024-10-03 09:58:35.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:35.464 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:58:35.471 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsRejectedByManager] = @p5, [RejectionReason] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-10-03 09:58:35.476 +03:00 [INF] RejectExpenseForm: Expense form with ID fb101135-d92f-4cea-b713-febf3a098f04 has been successfully rejected by the manager.
2024-10-03 09:58:35.479 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 23.5559ms.
2024-10-03 09:58:35.482 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 09:58:35.485 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web) in 45.2903ms
2024-10-03 09:58:35.487 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.RejectExpenseForm (Expensify.Web)'
2024-10-03 09:58:35.489 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/RejectExpenseForm - 302 0 null 77.3175ms
2024-10-03 09:58:35.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:58:35.510 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:35.512 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:35.522 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:58:35.525 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:58:35.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:35.531 +03:00 [INF] Fetching pending expense forms for Manager ID: d3b05818-1fa7-4adf-861b-94f8376a4cc1
2024-10-03 09:58:35.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:58:35.537 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:58:35.539 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:58:35.540 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.6683ms.
2024-10-03 09:58:35.544 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:58:35.547 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.3571ms.
2024-10-03 09:58:35.550 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 34.9511ms
2024-10-03 09:58:35.554 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:58:35.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:35.559 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:35.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 66.2623ms
2024-10-03 09:58:35.565 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.1606ms
2024-10-03 09:58:35.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8801ms
2024-10-03 09:58:37.697 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 09:58:37.716 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 09:58:37.718 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:58:37.730 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:37.733 +03:00 [INF] User logged out.
2024-10-03 09:58:37.734 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 09:58:37.736 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 09:58:37.738 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 09:58:37.740 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 7.3004ms.
2024-10-03 09:58:37.744 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:58:37.745 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 24.7718ms
2024-10-03 09:58:37.747 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 09:58:37.749 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 52.2245ms
2024-10-03 09:58:37.752 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:58:37.766 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:58:37.768 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:58:37.779 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:37.781 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0213ms.
2024-10-03 09:58:37.783 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:58:37.786 +03:00 [INF] Executed ViewResult - view Index executed in 2.9968ms.
2024-10-03 09:58:37.789 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 18.7179ms
2024-10-03 09:58:37.791 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:58:37.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:37.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:37.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 41.8188ms
2024-10-03 09:58:37.796 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 3.7304ms
2024-10-03 09:58:37.807 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.6276ms
2024-10-03 09:58:40.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 09:58:40.269 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:58:40.270 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:58:40.282 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:40.284 +03:00 [INF] Login page accessed.
2024-10-03 09:58:40.286 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.5412ms.
2024-10-03 09:58:40.288 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 09:58:40.293 +03:00 [INF] Executed ViewResult - view Login executed in 5.3062ms.
2024-10-03 09:58:40.296 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 23.6308ms
2024-10-03 09:58:40.302 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:58:40.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:40.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:40.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 60.9164ms
2024-10-03 09:58:40.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 24.265ms
2024-10-03 09:58:40.334 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0457ms
2024-10-03 09:58:46.133 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 255
2024-10-03 09:58:46.159 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:58:46.163 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:58:46.186 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:46.191 +03:00 [INF] Login attempt for user employee3@expensify.com.
2024-10-03 09:58:46.194 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 09:58:46.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 09:58:46.285 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 09:58:46.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 09:58:46.292 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 09:58:46.295 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 09:58:46.297 +03:00 [INF] User employee3@expensify.com successfully logged in.
2024-10-03 09:58:46.299 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 108.6842ms.
2024-10-03 09:58:46.302 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:58:46.304 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 136.1311ms
2024-10-03 09:58:46.307 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:58:46.310 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 177.161ms
2024-10-03 09:58:46.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:58:46.334 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:58:46.336 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:58:46.347 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:46.349 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0166ms.
2024-10-03 09:58:46.351 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:58:46.355 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:46.359 +03:00 [INF] Executed ViewResult - view Index executed in 8.261ms.
2024-10-03 09:58:46.361 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 21.9736ms
2024-10-03 09:58:46.364 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:58:46.367 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 53.3087ms
2024-10-03 09:58:46.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:46.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:46.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.3016ms
2024-10-03 09:58:46.394 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.3847ms
2024-10-03 09:58:48.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 09:58:48.296 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:58:48.298 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:48.309 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:48.311 +03:00 [INF] Entering Add expense form view
2024-10-03 09:58:48.314 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:48.317 +03:00 [INF] Creating new expense form for employee with ID: 1fbb4387-2f8b-4d59-bdb7-8475c5cf2e93
2024-10-03 09:58:48.319 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 7.3646ms.
2024-10-03 09:58:48.324 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 09:58:48.329 +03:00 [INF] Executed ViewResult - view Add executed in 4.3761ms.
2024-10-03 09:58:48.331 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 30.5355ms
2024-10-03 09:58:48.333 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:58:48.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:48.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:48.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 57.8215ms
2024-10-03 09:58:48.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.7334ms
2024-10-03 09:58:48.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.4455ms
2024-10-03 09:58:48.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:58:48.943 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:58:48.945 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:48.960 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:58:48.962 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:58:48.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:58:48.969 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:58:48.971 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:58:48.975 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:58:48.976 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:58:48.978 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.393ms.
2024-10-03 09:58:48.980 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:58:48.983 +03:00 [INF] Executed ViewResult - view List executed in 3.1102ms.
2024-10-03 09:58:48.985 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 37.591ms
2024-10-03 09:58:48.989 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:58:48.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:48.990 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:48.992 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 66.4655ms
2024-10-03 09:58:48.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.4105ms
2024-10-03 09:58:49.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.1486ms
2024-10-03 09:58:56.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/f34dc252-46c5-4708-82d8-705414c0c4c4 - null null
2024-10-03 09:58:56.043 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:58:56.044 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:58:56.057 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:58:56.059 +03:00 [INF] Fetching expense form with ID f34dc252-46c5-4708-82d8-705414c0c4c4 for editing.
2024-10-03 09:58:56.062 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:58:56.067 +03:00 [INF] Returning view for editing expense form with ID f34dc252-46c5-4708-82d8-705414c0c4c4.
2024-10-03 09:58:56.069 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 9.7304ms.
2024-10-03 09:58:56.071 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:58:56.080 +03:00 [INF] Executed ViewResult - view Edit executed in 8.897ms.
2024-10-03 09:58:56.082 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 35.6026ms
2024-10-03 09:58:56.085 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:58:56.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:58:56.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:58:56.088 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/f34dc252-46c5-4708-82d8-705414c0c4c4 - 200 null text/html; charset=utf-8 66.8803ms
2024-10-03 09:58:56.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.3184ms
2024-10-03 09:58:56.101 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.7085ms
2024-10-03 09:59:03.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Add - null null
2024-10-03 09:59:03.268 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:59:03.274 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add() on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:03.295 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:03.300 +03:00 [INF] Entering Add expense form view
2024-10-03 09:59:03.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:03.307 +03:00 [INF] Creating new expense form for employee with ID: 1fbb4387-2f8b-4d59-bdb7-8475c5cf2e93
2024-10-03 09:59:03.309 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 9.7226ms.
2024-10-03 09:59:03.314 +03:00 [INF] Executing ViewResult, running view Add.
2024-10-03 09:59:03.320 +03:00 [INF] Executed ViewResult - view Add executed in 5.6588ms.
2024-10-03 09:59:03.323 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 43.5314ms
2024-10-03 09:59:03.326 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:59:03.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:03.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:03.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Add - 200 null text/html; charset=utf-8 94.257ms
2024-10-03 09:59:03.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.9789ms
2024-10-03 09:59:03.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.9466ms
2024-10-03 09:59:18.164 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/Add - application/x-www-form-urlencoded 337
2024-10-03 09:59:18.190 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:59:18.203 +03:00 [INF] Route matched with {action = "Add", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Expensify.Web.Models.ViewModels.AddExpenseFormViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:18.231 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:18.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:18.251 +03:00 [INF] Saving new expense form for employee 1fbb4387-2f8b-4d59-bdb7-8475c5cf2e93.
2024-10-03 09:59:18.286 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 450), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = DateTime2), @p18='?' (Size = 255), @p19='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseForms] ([Id], [AccountantId], [Currency], [EmployeeId], [IsApprovedByManager], [IsPaidByAccountant], [IsRejectedByManager], [ManagerId], [RejectionReason], [SubmissionDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p10, @p11, @p12, @p13, @p14);
INSERT INTO [Expenses] ([Id], [Amount], [Date], [Description], [ExpenseFormId])
VALUES (@p15, @p16, @p17, @p18, @p19);
2024-10-03 09:59:18.292 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 53.7141ms.
2024-10-03 09:59:18.294 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:59:18.296 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web) in 87.4345ms
2024-10-03 09:59:18.298 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Add (Expensify.Web)'
2024-10-03 09:59:18.300 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/Add - 302 0 null 136.4464ms
2024-10-03 09:59:18.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:59:18.320 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:59:18.323 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:59:18.336 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:18.338 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0228ms.
2024-10-03 09:59:18.340 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:59:18.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:18.348 +03:00 [INF] Executed ViewResult - view Index executed in 7.6795ms.
2024-10-03 09:59:18.350 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 23.0695ms
2024-10-03 09:59:18.353 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:59:18.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:18.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:18.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 54.6966ms
2024-10-03 09:59:18.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 19.0757ms
2024-10-03 09:59:18.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.6003ms
2024-10-03 09:59:19.780 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/List - null null
2024-10-03 09:59:19.800 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:59:19.804 +03:00 [INF] Route matched with {action = "List", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:19.814 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:19.817 +03:00 [INF] Fetching the current user for expense form list.
2024-10-03 09:59:19.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:19.824 +03:00 [INF] Fetching all expense forms for the current user.
2024-10-03 09:59:19.828 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[EmployeeId] = @__ToString_0
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:19.831 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:19.833 +03:00 [INF] Returning filtered expense forms.
2024-10-03 09:59:19.835 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.0375ms.
2024-10-03 09:59:19.837 +03:00 [INF] Executing ViewResult, running view List.
2024-10-03 09:59:19.840 +03:00 [INF] Executed ViewResult - view List executed in 3.5229ms.
2024-10-03 09:59:19.843 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web) in 36.7236ms
2024-10-03 09:59:19.846 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.List (Expensify.Web)'
2024-10-03 09:59:19.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:19.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:19.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/List - 200 null text/html; charset=utf-8 70.5217ms
2024-10-03 09:59:19.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.8363ms
2024-10-03 09:59:19.871 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.2873ms
2024-10-03 09:59:21.432 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/b7c974a0-c780-4da5-7b83-08dce378e683 - null null
2024-10-03 09:59:21.448 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:59:21.450 +03:00 [INF] Route matched with {action = "Edit", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:21.462 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:21.464 +03:00 [INF] Fetching expense form with ID b7c974a0-c780-4da5-7b83-08dce378e683 for editing.
2024-10-03 09:59:21.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:59:21.474 +03:00 [INF] Returning view for editing expense form with ID b7c974a0-c780-4da5-7b83-08dce378e683.
2024-10-03 09:59:21.476 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 11.4082ms.
2024-10-03 09:59:21.478 +03:00 [INF] Executing ViewResult, running view Edit.
2024-10-03 09:59:21.484 +03:00 [INF] Executed ViewResult - view Edit executed in 6.0885ms.
2024-10-03 09:59:21.487 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web) in 34.2918ms
2024-10-03 09:59:21.490 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.Edit (Expensify.Web)'
2024-10-03 09:59:21.492 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/Edit/b7c974a0-c780-4da5-7b83-08dce378e683 - 200 null text/html; charset=utf-8 60.5638ms
2024-10-03 09:59:21.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:21.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:21.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.114ms
2024-10-03 09:59:21.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.0177ms
2024-10-03 09:59:23.193 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Logout - application/x-www-form-urlencoded 225
2024-10-03 09:59:23.210 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 09:59:23.213 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:59:23.224 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:23.227 +03:00 [INF] User logged out.
2024-10-03 09:59:23.229 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-10-03 09:59:23.232 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-10-03 09:59:23.234 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-10-03 09:59:23.236 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Logout (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 8.7409ms.
2024-10-03 09:59:23.238 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:59:23.241 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Logout (Expensify.Web) in 26.3154ms
2024-10-03 09:59:23.244 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Logout (Expensify.Web)'
2024-10-03 09:59:23.246 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Logout - 302 0 null 52.9737ms
2024-10-03 09:59:23.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:59:23.264 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:59:23.266 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:59:23.276 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:23.278 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0165ms.
2024-10-03 09:59:23.280 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:59:23.283 +03:00 [INF] Executed ViewResult - view Index executed in 3.0756ms.
2024-10-03 09:59:23.285 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 17.6189ms
2024-10-03 09:59:23.289 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:59:23.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:23.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:23.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 43.3476ms
2024-10-03 09:59:23.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 3.8735ms
2024-10-03 09:59:23.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.8164ms
2024-10-03 09:59:23.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Account/Login - null null
2024-10-03 09:59:23.694 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:59:23.696 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:59:23.708 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:23.711 +03:00 [INF] Login page accessed.
2024-10-03 09:59:23.713 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.6807ms.
2024-10-03 09:59:23.715 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-03 09:59:23.719 +03:00 [INF] Executed ViewResult - view Login executed in 3.555ms.
2024-10-03 09:59:23.722 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 23.207ms
2024-10-03 09:59:23.725 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:59:23.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:23.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:23.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Account/Login - 200 null text/html; charset=utf-8 49.3357ms
2024-10-03 09:59:23.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.1084ms
2024-10-03 09:59:23.739 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.2766ms
2024-10-03 09:59:30.070 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/Account/Login - application/x-www-form-urlencoded 254
2024-10-03 09:59:30.090 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:59:30.093 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Expensify.Web.Models.ViewModels.LoginViewModel) on controller Expensify.Web.Controllers.AccountController (Expensify.Web).
2024-10-03 09:59:30.105 +03:00 [INF] Executing action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:30.107 +03:00 [INF] Login attempt for user manager2@expensify.com.
2024-10-03 09:59:30.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-10-03 09:59:30.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-10-03 09:59:30.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 09:59:30.196 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-03 09:59:30.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-10-03 09:59:30.202 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-10-03 09:59:30.204 +03:00 [INF] User manager2@expensify.com successfully logged in.
2024-10-03 09:59:30.206 +03:00 [INF] Executed action method Expensify.Web.Controllers.AccountController.Login (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 98.7493ms.
2024-10-03 09:59:30.208 +03:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-03 09:59:30.210 +03:00 [INF] Executed action Expensify.Web.Controllers.AccountController.Login (Expensify.Web) in 114.3461ms
2024-10-03 09:59:30.212 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.AccountController.Login (Expensify.Web)'
2024-10-03 09:59:30.214 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/Account/Login - 302 0 null 144.8095ms
2024-10-03 09:59:30.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2024-10-03 09:59:30.229 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:59:30.231 +03:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Expensify.Web.Controllers.HomeController (Expensify.Web).
2024-10-03 09:59:30.241 +03:00 [INF] Executing action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:30.243 +03:00 [INF] Executed action method Expensify.Web.Controllers.HomeController.Index (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0152ms.
2024-10-03 09:59:30.245 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-03 09:59:30.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:30.253 +03:00 [INF] Executed ViewResult - view Index executed in 7.5555ms.
2024-10-03 09:59:30.255 +03:00 [INF] Executed action Expensify.Web.Controllers.HomeController.Index (Expensify.Web) in 21.3023ms
2024-10-03 09:59:30.257 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.HomeController.Index (Expensify.Web)'
2024-10-03 09:59:30.261 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 200 null text/html; charset=utf-8 44.8284ms
2024-10-03 09:59:30.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:30.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:30.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.1931ms
2024-10-03 09:59:30.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.1947ms
2024-10-03 09:59:31.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:59:31.124 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:31.127 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:31.142 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:31.144 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:31.147 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:31.150 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:31.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:31.158 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:31.159 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:31.161 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 17.0107ms.
2024-10-03 09:59:31.163 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:31.166 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.1238ms.
2024-10-03 09:59:31.170 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 38.1282ms
2024-10-03 09:59:31.175 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:31.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:31.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:31.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 81.1535ms
2024-10-03 09:59:31.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.5532ms
2024-10-03 09:59:31.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.8259ms
2024-10-03 09:59:38.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/f34dc252-46c5-4708-82d8-705414c0c4c4 - null null
2024-10-03 09:59:38.389 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 09:59:38.394 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:38.406 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:38.410 +03:00 [INF] Fetching details for expense form with ID: f34dc252-46c5-4708-82d8-705414c0c4c4
2024-10-03 09:59:38.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:59:38.422 +03:00 [INF] Returning details view for expense form with ID: f34dc252-46c5-4708-82d8-705414c0c4c4
2024-10-03 09:59:38.423 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.1729ms.
2024-10-03 09:59:38.426 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 09:59:38.434 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 8.3192ms.
2024-10-03 09:59:38.437 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 41.0188ms
2024-10-03 09:59:38.442 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 09:59:38.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:38.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:38.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/f34dc252-46c5-4708-82d8-705414c0c4c4 - 200 null text/html; charset=utf-8 80.9873ms
2024-10-03 09:59:38.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 19.3857ms
2024-10-03 09:59:38.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2302ms
2024-10-03 09:59:42.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:59:42.388 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:42.389 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:42.402 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:42.405 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:42.409 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:42.413 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:42.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:42.425 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:42.428 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:42.434 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 28.8208ms.
2024-10-03 09:59:42.441 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:42.447 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 6.7116ms.
2024-10-03 09:59:42.453 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 61.2082ms
2024-10-03 09:59:42.461 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:42.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:42.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 112.0759ms
2024-10-03 09:59:42.473 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.6202ms
2024-10-03 09:59:43.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/b7c974a0-c780-4da5-7b83-08dce378e683 - null null
2024-10-03 09:59:43.223 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 09:59:43.225 +03:00 [INF] Route matched with {action = "ViewExpenseFormDetails", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewExpenseFormDetails(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:43.237 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:43.239 +03:00 [INF] Fetching details for expense form with ID: b7c974a0-c780-4da5-7b83-08dce378e683
2024-10-03 09:59:43.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:59:43.247 +03:00 [INF] Returning details view for expense form with ID: b7c974a0-c780-4da5-7b83-08dce378e683
2024-10-03 09:59:43.249 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 9.9933ms.
2024-10-03 09:59:43.251 +03:00 [INF] Executing ViewResult, running view ViewExpenseFormDetails.
2024-10-03 09:59:43.255 +03:00 [INF] Executed ViewResult - view ViewExpenseFormDetails executed in 3.3889ms.
2024-10-03 09:59:43.257 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web) in 29.2466ms
2024-10-03 09:59:43.259 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ViewExpenseFormDetails (Expensify.Web)'
2024-10-03 09:59:43.260 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:43.260 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:43.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/ViewExpenseFormDetails/b7c974a0-c780-4da5-7b83-08dce378e683 - 200 null text/html; charset=utf-8 54.863ms
2024-10-03 09:59:43.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.7673ms
2024-10-03 09:59:43.279 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.0963ms
2024-10-03 09:59:44.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:59:44.447 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:44.449 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:44.460 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:44.462 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:44.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:44.469 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:44.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:44.503 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:44.505 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:44.507 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 44.3614ms.
2024-10-03 09:59:44.509 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:44.512 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.3905ms.
2024-10-03 09:59:44.515 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 62.7934ms
2024-10-03 09:59:44.519 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:44.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 92.6606ms
2024-10-03 09:59:44.523 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:44.534 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.4603ms
2024-10-03 09:59:48.642 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - application/x-www-form-urlencoded 269
2024-10-03 09:59:48.665 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:59:48.669 +03:00 [INF] Route matched with {action = "ApproveExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveExpenseForm(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:48.681 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:48.683 +03:00 [INF] Attempting to approve expense form with ID: f34dc252-46c5-4708-82d8-705414c0c4c4
2024-10-03 09:59:48.686 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:48.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__formId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__formId_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:59:48.695 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsApprovedByManager] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 09:59:48.700 +03:00 [INF] ApproveExpenseForm: Expense form with ID f34dc252-46c5-4708-82d8-705414c0c4c4 has been successfully approved by the manager.
2024-10-03 09:59:48.702 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 18.5419ms.
2024-10-03 09:59:48.704 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 09:59:48.706 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) in 34.1786ms
2024-10-03 09:59:48.728 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:59:48.736 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - 302 0 null 93.6227ms
2024-10-03 09:59:48.739 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:59:48.754 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:48.756 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:48.767 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:48.769 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:48.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:48.775 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:48.778 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:48.782 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:48.783 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:48.785 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.1176ms.
2024-10-03 09:59:48.788 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:48.791 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.1301ms.
2024-10-03 09:59:48.793 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 34.5477ms
2024-10-03 09:59:48.796 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:48.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:48.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:48.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 62.0831ms
2024-10-03 09:59:48.806 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.1898ms
2024-10-03 09:59:48.818 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4237ms
2024-10-03 09:59:54.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=275&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - null null
2024-10-03 09:59:54.185 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:54.187 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:54.199 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:54.201 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:54.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:54.207 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:54.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:54.215 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:54.217 +03:00 [INF] Filtered by MinAmount: 275
2024-10-03 09:59:54.218 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:54.220 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.9515ms.
2024-10-03 09:59:54.222 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:54.225 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.3747ms.
2024-10-03 09:59:54.230 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 40.2705ms
2024-10-03 09:59:54.234 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:54.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:54.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:54.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=275&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - 200 null text/html; charset=utf-8 77.0105ms
2024-10-03 09:59:54.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.3916ms
2024-10-03 09:59:54.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.6268ms
2024-10-03 09:59:56.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - null null
2024-10-03 09:59:56.324 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:56.327 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:56.343 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:56.345 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:56.348 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:56.351 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:56.353 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:56.357 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:56.359 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:56.361 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.5132ms.
2024-10-03 09:59:56.363 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:56.366 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 3.1355ms.
2024-10-03 09:59:56.368 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 38.688ms
2024-10-03 09:59:56.372 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:56.372 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:56.372 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:56.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval?EmployeeName=&FromDate=&__Invariant=FromDate&ToDate=&__Invariant=ToDate&MinAmount=&__Invariant=MinAmount&MaxAmount=&__Invariant=MaxAmount - 200 null text/html; charset=utf-8 69.4294ms
2024-10-03 09:59:56.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.6211ms
2024-10-03 09:59:56.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.0765ms
2024-10-03 09:59:59.406 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - application/x-www-form-urlencoded 269
2024-10-03 09:59:59.425 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:59:59.427 +03:00 [INF] Route matched with {action = "ApproveExpenseForm", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveExpenseForm(System.Guid) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:59.437 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) - Validation state: "Valid"
2024-10-03 09:59:59.439 +03:00 [INF] Attempting to approve expense form with ID: b7c974a0-c780-4da5-7b83-08dce378e683
2024-10-03 09:59:59.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:59.446 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__formId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountantId], [t].[Currency], [t].[EmployeeId], [t].[IsApprovedByManager], [t].[IsPaidByAccountant], [t].[IsRejectedByManager], [t].[ManagerId], [t].[RejectionReason], [t].[SubmissionDate], [t].[Id0], [t].[Id1], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[ManagerId0], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[AccessFailedCount0], [t].[ConcurrencyStamp0], [t].[Email0], [t].[EmailConfirmed0], [t].[FullName0], [t].[LockoutEnabled0], [t].[LockoutEnd0], [t].[ManagerId1], [t].[NormalizedEmail0], [t].[NormalizedUserName0], [t].[PasswordHash0], [t].[PhoneNumber0], [t].[PhoneNumberConfirmed0], [t].[SecurityStamp0], [t].[TwoFactorEnabled0], [t].[UserName0]
FROM (
    SELECT TOP(1) [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId] AS [ManagerId0], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id] AS [Id1], [a0].[AccessFailedCount] AS [AccessFailedCount0], [a0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [a0].[Email] AS [Email0], [a0].[EmailConfirmed] AS [EmailConfirmed0], [a0].[FullName] AS [FullName0], [a0].[LockoutEnabled] AS [LockoutEnabled0], [a0].[LockoutEnd] AS [LockoutEnd0], [a0].[ManagerId] AS [ManagerId1], [a0].[NormalizedEmail] AS [NormalizedEmail0], [a0].[NormalizedUserName] AS [NormalizedUserName0], [a0].[PasswordHash] AS [PasswordHash0], [a0].[PhoneNumber] AS [PhoneNumber0], [a0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [a0].[SecurityStamp] AS [SecurityStamp0], [a0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [a0].[UserName] AS [UserName0]
    FROM [ExpenseForms] AS [e]
    INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
    LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
    WHERE [e].[Id] = @__formId_0
) AS [t]
LEFT JOIN [Expenses] AS [e0] ON [t].[Id] = [e0].[ExpenseFormId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1]
2024-10-03 09:59:59.451 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ExpenseFormHistories] ([Id], [ActionId], [ExpenseFormId], [PerformedByUserId], [Timestamp])
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [ExpenseForms] SET [IsApprovedByManager] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-10-03 09:59:59.455 +03:00 [INF] ApproveExpenseForm: Expense form with ID b7c974a0-c780-4da5-7b83-08dce378e683 has been successfully approved by the manager.
2024-10-03 09:59:59.457 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 17.8133ms.
2024-10-03 09:59:59.461 +03:00 [INF] Executing RedirectResult, redirecting to /ExpenseForms/PendingApproval.
2024-10-03 09:59:59.463 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web) in 33.4643ms
2024-10-03 09:59:59.465 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.ApproveExpenseForm (Expensify.Web)'
2024-10-03 09:59:59.467 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/ExpenseForms/ApproveExpenseForm - 302 0 null 61.2609ms
2024-10-03 09:59:59.470 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - null null
2024-10-03 09:59:59.484 +03:00 [INF] Executing endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:59.486 +03:00 [INF] Route matched with {action = "PendingApproval", controller = "ExpenseForms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PendingApproval(Expensify.Web.Models.ViewModels.ExpenseFormFilterViewModel) on controller Expensify.Web.Controllers.ExpenseFormsController (Expensify.Web).
2024-10-03 09:59:59.496 +03:00 [INF] Executing action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) - Validation state: "Invalid"
2024-10-03 09:59:59.498 +03:00 [INF] Fetching current user for pending approval.
2024-10-03 09:59:59.501 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-10-03 09:59:59.504 +03:00 [INF] Fetching pending expense forms for Manager ID: e5b9c6d1-9fcd-4ad2-8e8e-567fd20e2a9b
2024-10-03 09:59:59.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[AccountantId], [e].[Currency], [e].[EmployeeId], [e].[IsApprovedByManager], [e].[IsPaidByAccountant], [e].[IsRejectedByManager], [e].[ManagerId], [e].[RejectionReason], [e].[SubmissionDate], [a].[Id], [a0].[Id], [e0].[Id], [e0].[Amount], [e0].[Date], [e0].[Description], [e0].[ExpenseFormId], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ManagerId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[ManagerId], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [ExpenseForms] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[EmployeeId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [e].[ManagerId] = [a0].[Id]
LEFT JOIN [Expenses] AS [e0] ON [e].[Id] = [e0].[ExpenseFormId]
WHERE [e].[ManagerId] = @__ToString_0 AND [e].[IsApprovedByManager] = CAST(0 AS bit) AND [e].[IsRejectedByManager] = CAST(0 AS bit)
ORDER BY [e].[Id], [a].[Id], [a0].[Id]
2024-10-03 09:59:59.511 +03:00 [INF] Applying filters to expense forms.
2024-10-03 09:59:59.512 +03:00 [INF] Returning view with filtered expense forms.
2024-10-03 09:59:59.514 +03:00 [INF] Executed action method Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web), returned result Microsoft.AspNetCore.Mvc.ViewResult in 15.6396ms.
2024-10-03 09:59:59.516 +03:00 [INF] Executing ViewResult, running view PendingApproval.
2024-10-03 09:59:59.519 +03:00 [INF] Executed ViewResult - view PendingApproval executed in 2.998ms.
2024-10-03 09:59:59.521 +03:00 [INF] Executed action Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web) in 33.2067ms
2024-10-03 09:59:59.527 +03:00 [INF] Executed endpoint 'Expensify.Web.Controllers.ExpenseFormsController.PendingApproval (Expensify.Web)'
2024-10-03 09:59:59.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2024-10-03 09:59:59.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 09:59:59.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ExpenseForms/PendingApproval - 200 null text/html; charset=utf-8 60.017ms
2024-10-03 09:59:59.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.7774ms
2024-10-03 09:59:59.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.1573ms
